require=function a(s,c,r){function l(n,e){if(!c[n]){if(!s[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var i=c[n]={exports:{}};s[n][0].call(i.exports,function(e){var t=s[n][1][e];return l(t||e)},i,i.exports,a,s,c,r)}return c[n].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}({Achievement_Item:[function(e,t,n){"use strict";cc._RF.push(t,"7013eJBpzpPF4xD6Sytyxlv","Achievement_Item");var o=e("Global"),i=e("EventManager"),a=e("GameMessage"),s=(e("SoundManager"),e("i18n"),e("Define"));cc.Class({extends:cc.Component,properties:{id:0},onclick:function(){o.instance().achievementState[this.id]!=s.ACHIEVEMENT_STATE_SHOW_UNLOCK&&o.instance().achievementState[this.id]!=s.ACHIEVEMENT_STATE_GET_UNLOCK||(i.default.instance.dispatch(a.default.TYCOON_SHOW_ACHIEVEMENT,this.id),this.node.getChildByName("achiev_item_board").getComponent(cc.Sprite).spriteFrame=cc.find("Canvas/UI_achievement_list").getComponent("Achievement_List").itemBoard[1],this.node.getChildByName("achiev_check").active=!0,this.node.getChildByName("UI_achiev_claim").active=!1)},start:function(){o.instance().achievementState[this.id]!=s.ACHIEVEMENT_STATE_UNLOCKED&&o.instance().achievementState[this.id]!=s.ACHIEVEMENT_STATE_LOCK||(this.node.getChildByName("UI_achiev_claim").active=!1),"fr"!=window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language")))&&"de"!=window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language")))||(this.node.getChildByName("UI_achiev_claim").getChildByName("txt_achiev_claim").getComponent(cc.Label).fontSize=14)}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],Achievement_List:[function(e,t,n){"use strict";cc._RF.push(t,"302bdCdA1hCCYN0YigzquAl","Achievement_List");var i=e("Global"),a=(e("EventManager"),e("GameMessage"),e("SoundManager"),e("i18n")),o=e("Define");cc.Class({extends:cc.Component,properties:{list:{default:null,type:cc.Node},achievementItem:{default:null,type:cc.Prefab},itemBoard:{default:[],type:[cc.SpriteFrame]}},onAchiClose:function(){this.node.active=!1},onLoad:function(){this.achi_list=[];for(var e=0;e<i.instance().achievementState.length;e++){this.achi_list[e]=cc.instantiate(this.achievementItem),this.list.addChild(this.achi_list[e]),this.achi_list[e].y=-e*this.achi_list[e].height,this.achi_list[e].getChildByName("txt_achievement").getComponent(cc.Label).string=a.t("main.STR_ACHIEVEMENT_"+(e+1)),this.achi_list[e].getChildByName("achiev_item").getComponent(cc.Sprite).spriteFrame=this.node.parent.getComponent("TyCoon").achivementFrame[e];var t=this.achi_list[e].getChildByName("achiev_item_board").width/this.achi_list[e].getChildByName("achiev_item").width,n=this.achi_list[e].getChildByName("achiev_item_board").height/this.achi_list[e].getChildByName("achiev_item").height;if(t<1||n<1){var o=t<n?t:n;this.achi_list[e].getChildByName("achiev_item").scale=o}}this.list.height=i.instance().achievementState.length*this.achi_list[0].height},start:function(){for(var e=0;e<i.instance().achievementState.length;e++)i.instance().achievementState[e]==o.ACHIEVEMENT_STATE_UNLOCKED?(this.achi_list[e].getChildByName("achiev_item_board").getComponent(cc.Sprite).spriteFrame=this.itemBoard[1],this.achi_list[e].getChildByName("achiev_check").active=!0):(this.achi_list[e].getChildByName("achiev_item_board").getComponent(cc.Sprite).spriteFrame=this.itemBoard[0],this.achi_list[e].getChildByName("achiev_check").active=!1),this.achi_list[e].getComponent("Achievement_Item").id=e}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],Achievement:[function(e,t,n){"use strict";cc._RF.push(t,"dba36sMDu1DSqsSWaq5hGAB","Achievement");var o=e("Global"),i=(e("EventManager"),e("GameMessage"),e("SoundManager"),e("Define"));cc.Enum({UnlockBuilding:0,BuildingOver:1,Citizens:2}),cc.Class({extends:cc.Component,properties:{ID:0},onLoad:function(){o.instance().achievementState[this.ID]!=i.ACHIEVEMENT_STATE_UNLOCKED&&(this.node.active=!1)},onEnable:function(){if(o.instance().achievementState[this.ID]==i.ACHIEVEMENT_STATE_CLAIM){o.instance().achievementState[this.ID]=i.ACHIEVEMENT_STATE_UNLOCKED,cc.sys.localStorage.setItem(o.encode(productKey+"__achievementState"),o.encode(JSON.stringify(o.instance().achievementState)));for(var e=0;e<this.node.children.length;e++){var t=this.node.children[e];t.initScaleX=t.scaleX,t.initScaleY=t.scaleY,t.scaleX*=.1,t.scaleY*=.1,t.addComponent("DetailEffect")}}},start:function(){},update:function(e){}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],CloudAction:[function(e,t,n){"use strict";cc._RF.push(t,"4eadbCRBhhBQJVUD+ZTYPvt","CloudAction"),cc.Class({extends:cc.Component,properties:{duration:3},setAction:function(){return this.node.active=!0,cc.moveBy(this.duration,cc.p(0<this.node.x?-1e3:1e3,0))},start:function(){this.node.runAction(this.setAction())}}),cc._RF.pop()},{}],Define:[function(e,t,n){"use strict";cc._RF.push(t,"b19d8Coky1BO6JabxKrU7uA","Define");cc.Class({statics:{ACHIEVEMENT_TYPE_UNLOCK_BUILDING:0,ACHIEVEMENT_TYPE_BUILDING_OVER:1,ACHIEVEMENT_TYPE_BUILDING_CITIZENS:2,ACHIEVEMENT_TYPE:0,ACHIEVEMENT_NUM_BUILDING:1,ACHIEVEMENT_PERCENT:2,ACHIEVEMENT_CITIZENS:3,ACHIEVEMENT_STATE_LOCK:0,ACHIEVEMENT_STATE_GET_UNLOCK:1,ACHIEVEMENT_STATE_SHOW_UNLOCK:2,ACHIEVEMENT_STATE_UNLOCKED:3,ACHIEVEMENT_STATE_CLAIM:4,FLOOR_NAME:0,FLOOR_X:1,FLOOR_Y:2,FLOOR_WIDTH:3,FLOOR_HEIGHT:4,FLOOR_BOTTOM_Y:5,TOWER_FLOOR_INFO:0,TOWER_POPULATION:1,TOWER_PERCENT:2,TOWER_WIDTH:3,TOWER_HEIGHT:4,TOWER_TARGET_PASS:5,INTERACTIVE_CITIZEN_GET:0,INTERACTIVE_TIME_APPEAR:1,INTERACTIVE_APPEAR_AGAIN:2,LOADING_NODE_PERCENT:1,BOSS_LEVEL_PARAM:{4:0,8:0,12:0,16:0,20:0},NUM_RETRY_TO_SUGGEST:2,NUM_RETRY_TO_SHOW_ADS:2,TYCOON_SHOW_ADS_TIME:60}});cc._RF.pop()},{}],DetailEffect:[function(e,t,n){"use strict";cc._RF.push(t,"e541caiijlKsI59bhtRQ/62","DetailEffect");var o=e("Global");e("EventManager"),e("GameMessage"),e("SoundManager");cc.Class({extends:cc.Component,properties:{},setDetailEffect:function(){return cc.scaleTo(o.instance().detailEffectTime,this.scaleXtype,this.scaleYtype).easing(cc.easeCubicActionIn())},onLoad:function(){this.scaleXtype=this.node.initScaleX,this.scaleYtype=this.node.initScaleY,this.detailEffect=this.setDetailEffect(),this.node.runAction(this.detailEffect)},start:function(){},update:function(e){}}),cc._RF.pop()},{EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],Effect:[function(e,t,n){"use strict";cc._RF.push(t,"19766TGORxDp7nxEwzOUXWR","Effect");var o=e("Global");e("EventManager"),e("GameMessage"),e("SoundManager");cc.Class({extends:cc.Component,properties:{txtPerfectEffectDuration:.2,txtPerfectEffectDelayDetroy:1},setPerfectEffect:function(){return this.node.x=o.instance().screenW/2+this.node.width/2,this.node.active=!0,cc.moveTo(this.txtPerfectEffectDuration,cc.p(0,this.node.y)).easing(cc.easeCubicActionIn())},onLoad:function(){this.txtPerfectEffect=this.setPerfectEffect(),this.node.runAction(this.txtPerfectEffect)},start:function(){},update:function(e){this.txtPerfectEffect.isDone()&&this.scheduleOnce(function(){this.node.destroy()},this.txtPerfectEffectDelayDetroy)}}),cc._RF.pop()},{EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"3b1d1x7xZFKHqPwnK0jMV31","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.eventListenners={}}return Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t,n,o,i){void 0===n&&(n=null),void 0===o&&(o=0),void 0===i&&(i=!1);var a={target:n,callback:t,priority:o,excuteOnce:i};return this.eventListenners[e]||(this.eventListenners[e]=[]),this.eventListenners[e].push(a),this.eventListenners[e].sort(function(e,t){return t.priority-e.priority}),t},e.prototype.registerOnce=function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=0),this.register(e,t,n,o,!0)},e.prototype.unregister=function(e,t,n){if(void 0===n&&(n=null),this.eventListenners[e]){for(var o=[],i=0;i<this.eventListenners[e].length;i++){var a=this.eventListenners[e][i];null==t?a.target==n&&o.push(i):a.target==n&&a.callback==t&&o.push(i)}this.eventListenners[e]=this.eventListenners[e].filter(function(e,t){return-1===o.indexOf(t)}),0==this.eventListenners[e].length&&delete this.eventListenners[e]}},e.prototype.unregisterTarget=function(o){var e=function(e){for(var n=[],t=0;t<i.eventListenners[e].length;t++){i.eventListenners[e][t].target==o&&n.push(t)}i.eventListenners[e]=i.eventListenners[e].filter(function(e,t){return-1===n.indexOf(t)}),0==i.eventListenners[e].length&&delete i.eventListenners[e]},i=this;for(var t in this.eventListenners)e(t)},e.prototype.dispatch=function(t){for(var n=this,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];if(this.eventListenners[t]){var i=[];this.eventListenners[t].forEach(function(e){e.target?e.callback.call(e.target,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]):e.callback(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]),1==e.excuteOnce&&i.push(e)}),i.forEach(function(e){n.unregister(t,e.callback,e.target)})}},e._instance=null,e}();n.default=o,cc._RF.pop()},{}],GameMessage:[function(e,t,n){"use strict";cc._RF.push(t,"83b293M9fBK7K3rSwtOY03A","GameMessage"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,function(){function e(){}return e.GLOBAL_LOADED="gm_global_loaded",e.GAME_TIME_OUT="gm_time_out",e.SOUND_LOADED="gm_sound_loaded",e.GAME_LOSE="gm_lose",e.GAME_WIN="gm_win",e.TUTO_SELECT_TOWER="tt_select_tower",e.TYCOON_TOUCH_END="gm_tycoon_touch_end",e.TYCOON_INTERACTIVE_CLICK="gm_tycoon_interactive_unlock",e.TYCOON_SHOW_ACHIEVEMENT="gm_tycoon_show_achievement",e}());n.default=i,cc._RF.pop()},{}],Game_UI:[function(e,t,n){"use strict";cc._RF.push(t,"43edfmdm75B0otCOVZO+vIh","Game_UI");var s=e("Global"),o=e("EventManager"),i=e("GameMessage"),c=e("SoundManager"),r=e("i18n"),l=e("Define");cc.Class({extends:cc.Component,properties:{actionPhase:{default:null,type:cc.Node},win:{default:null,type:cc.Node},lose:{default:null,type:cc.Node},IGM:{default:null,type:cc.Node},complete:{default:null,type:cc.Node},arrow:{default:[],type:[cc.SpriteFrame]},achivementBoard:{default:null,type:cc.Node},achivementFrame:{default:[],type:[cc.SpriteFrame]},towerAnchorTop:0,towerAnchorBottom:50,towerWinZoomPercent:80,towerWinZoomDuration:1},pauseGame:function(){cc.director.pause(),this.IGM.active=!0,c.default.instance.pauseAll()},resumeGame:function(){this.IGM.active=!1,cc.director.resume(),c.default.instance.resumeAll()},showLoseScreen:function(t,n,o){dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Completion",ga_label:window.productTitle,ga_noninteraction:!1}),this.scheduleOnce(function(){cc.find("Canvas/action_phase/UI").active=!1,this.endGame=-1,"th"==window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language")))?(cc.find("Canvas/lose/txt_lose_notenough").getComponent(cc.Label).lineHeight=50,cc.find("Canvas/lose/txt_lose_tryanother").getComponent(cc.Label).lineHeight=50):(cc.find("Canvas/lose/txt_lose_notenough").getComponent(cc.Label).lineHeight=40,cc.find("Canvas/lose/txt_lose_tryanother").getComponent(cc.Label).lineHeight=40),null!=t?(this.lose.active=!0,cc.find("Canvas/lose/txt_population").getComponent(cc.Label).string=t,cc.find("Canvas/lose/score").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",n),cc.find("Canvas/lose/txt_lose_target_value").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",o),s.instance().retryCount>=l.NUM_RETRY_TO_SUGGEST?(s.instance().retryCount=0,cc.find("Canvas/lose/txt_lose_unstable").active=!1,cc.find("Canvas/lose/txt_lose_notenough").active=!1,cc.find("Canvas/lose/txt_lose_tryanother").active=!0,cc.find("Canvas/lose/go_citi").runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.2,1.2),cc.scaleTo(.3,.8,.8))))):cc.find("Canvas/lose/txt_lose_tryanother").active=!1):cc.find("Canvas/lose_time").active=!0,c.default.instance.stop("m_BGM"),c.default.instance.playEffect("sfx_lose");for(var e=0;e<this.actionPhase.getComponent("Game").ground.children.length;e++)this.actionPhase.getComponent("Game").ground.children[e].removeComponent("scrollBG");enableADS&&0<s.instance().currTower&&0==this.win.active&&(this.goWinScreen||playAds(),this.goWinScreen=!0,this.schedule(function(){this.goWinScreen&&"none"==adsContainer.style.display&&reloadAds&&(this.goWinScreen=!1)},.2))},1)},closeLoseScreen:function(){this.lose.active=!1},showNextUnlock:function(){var t=this;this.actionPhase.getComponent("Game").tower.removeAllChildren(!0),cc.find("Canvas/win/win_unlock/txt_unlock_name").getComponent(cc.Label).string=r.t("main.name_residence_"+(this.nextUnlock+1));var e=cc.find("Canvas/win/win_unlock/UI_win_unlock_board");this.actionPhase.getComponent("Game").tower.getComponent("Tower").blur=!1,this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY=e.y-e.height/2+this.towerAnchorBottom,this.actionPhase.getComponent("Game").ground.y=this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY-this.actionPhase.getComponent("Game").ground.height/2-this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundOffY,this.actionPhase.getComponent("Game").tower.getComponent("Tower").loadRenderTower(s.instance().towersDefault[this.nextUnlock],this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY),this.actionPhase.getComponent("Game").tower.getComponent("Tower").towerID=this.nextUnlock;var n=(e.y+e.height/2-this.towerAnchorTop-this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY)/this.actionPhase.getComponent("Game").tower.getComponent("Tower").getTowerHeight();this.actionPhase.getComponent("Game").tower.scale=this.winTowerInitScale=n<1?n:1,this.actionPhase.getComponent("Game").tower.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(this.towerWinZoomDuration,this.winTowerInitScale*this.towerWinZoomPercent/100),cc.scaleTo(this.towerWinZoomDuration,this.winTowerInitScale)))),this.actionPhase.getComponent("Game").tower.on(cc.Node.EventType.TOUCH_END,function(e){t.next()}),this.goWinScreen?this.schedule(function(){this.goWinScreen&&"none"==adsContainer.style.display&&reloadAds&&(this.goWinScreen=!1,cc.find("Canvas/win/add_to_home_screen").active||(cc.find("Canvas/win/win_unlock/unlock_scissor").active=!1,cc.find("Canvas/win/win_unlock/unlock_scissor").active=!0,cc.find("Canvas/win/win_unlock/unlock_scissor").getComponent(cc.Animation).play("UI_Unlock_Animation")),this.unlock.pop(),this.scheduleOnce(function(){0<this.unlock.length&&(this.nextUnlock=this.unlock[this.unlock.length-1],this.showNextUnlock())},3))},.2):(cc.find("Canvas/win/add_to_home_screen").active||(cc.find("Canvas/win/win_unlock/unlock_scissor").active=!1,cc.find("Canvas/win/win_unlock/unlock_scissor").active=!0,cc.find("Canvas/win/win_unlock/unlock_scissor").getComponent(cc.Animation).play("UI_Unlock_Animation")),this.unlock.pop(),this.scheduleOnce(function(){0<this.unlock.length&&(this.nextUnlock=this.unlock[this.unlock.length-1],this.showNextUnlock())},3))},showWinScreen:function(e,t,n,o){dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Completion",ga_label:window.productTitle,ga_noninteraction:!1}),this.actionPhase.active=!1,this.win.active=!0,cc.find("Canvas/win/win_unlock/txt_population").getComponent(cc.Label).string=s.instance().towers[s.instance().currTower][l.TOWER_POPULATION],cc.find("Canvas/win/win_unlock/score").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",s.instance().towers[s.instance().currTower][l.TOWER_PERCENT]),this.actionPhase.getComponent("Game").tower.parent=cc.find("Canvas/win/win_unlock"),cc.find("Canvas/win/win_unlock/unlock_scissor").zIndex=1e3,this.actionPhase.getComponent("Game").tower.removeAllChildren(!0);for(var i=s.instance().towerUnlock.length-1;0<i;i--)0==s.instance().towerUnlock[i]&&s.instance().currPopulation+s.instance().interactivePopulation>=s.instance().levelDesign[i-1][s.instance().POPULATION_UNLOCK]&&(this.nextUnlock=i,this.unlock.push(i),s.instance().towerUnlock[i]=1,cc.sys.localStorage.setItem(s.encode(productKey+"__towerUnlock"),s.encode(JSON.stringify(s.instance().towerUnlock))));if(0<this.nextUnlock)enableADS&&0<s.instance().currTower&&(playAds(),this.goWinScreen=!0),this.showNextUnlock(),s.instance().lastPopulation=s.instance().currPopulation,this.win.getChildByName("win_unlock").active=!0,this.win.getChildByName("win_nounlock").active=!1;else{var a=0;for(i=0;i<s.instance().towers.length;i++)s.instance().towers[i]&&a++;a==s.instance().towersDefault.length&&0==e?(this.win.getChildByName("win_all").active=!0,cc.find("Canvas/win/win_all/score").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",s.instance().towers[s.instance().currTower][l.TOWER_PERCENT])):(this.win.getChildByName("win_unlock").active=!1,this.win.getChildByName("win_nounlock").active=!0,0!=e&&o!=t?(o<t?(cc.find("Canvas/win/win_nounlock/txt_nounlock").active=!1,cc.find("Canvas/win/win_nounlock/txt_nounlock_bad").active=!0,cc.find("Canvas/win/win_nounlock/UI_arrow_green").getComponent(cc.Sprite).spriteFrame=this.arrow[1],cc.find("Canvas/win/win_nounlock/UI_arrow_red").getComponent(cc.Sprite).spriteFrame=this.arrow[1],cc.find("Canvas/win/win_nounlock/txt_population_diff").getComponent(cc.Label).string=Math.abs(n-e)):(cc.find("Canvas/win/win_nounlock/txt_nounlock").active=!0,cc.find("Canvas/win/win_nounlock/txt_nounlock_bad").active=!1,cc.find("Canvas/win/win_nounlock/UI_arrow_green").getComponent(cc.Sprite).spriteFrame=this.arrow[0],cc.find("Canvas/win/win_nounlock/UI_arrow_red").getComponent(cc.Sprite).spriteFrame=this.arrow[0],cc.find("Canvas/win/win_nounlock/txt_population_diff").getComponent(cc.Label).string=n-e),cc.find("Canvas/win/win_nounlock/score_diff").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",Math.abs(o-t))):(cc.find("Canvas/win/win_nounlock/txt_nounlock_bad").active=!1,cc.find("Canvas/win/win_nounlock/txt_nounlock").active=!1,cc.find("Canvas/win/win_nounlock/UI_arrow_green").active=!1,cc.find("Canvas/win/win_nounlock/UI_arrow_red").active=!1,cc.find("Canvas/win/win_nounlock/txt_population_diff").active=!1,cc.find("Canvas/win/win_nounlock/score_diff").active=!1),cc.find("Canvas/win/win_nounlock/txt_population").getComponent(cc.Label).string=n,cc.find("Canvas/win/win_nounlock/score").getComponent(cc.Label).string=r.t("main.STR_GAME_FIT").replace("%s",o)),enableADS&&0<s.instance().currTower&&(playAds(),this.goWinScreen=!0,this.schedule(function(){this.goWinScreen&&"none"==adsContainer.style.display&&reloadAds&&(this.goWinScreen=!1)},.2))}c.default.instance.stop("m_BGM"),c.default.instance.playMusic("m_win",!1),s.instance().tutoWin&&(cc.find("Canvas/win/tutorial_board3").active=!0,cc.find("Canvas/win/tutorial_board4").active=!0);for(i=0;i<this.actionPhase.getComponent("Game").ground.children.length;i++)this.actionPhase.getComponent("Game").ground.children[i].removeComponent("scrollBG")},closeWinScreen:function(){this.win.active=!1},retry:function(){var t=this;if(!s.isShowAds)if((this.lose.active||this.win.active)&&"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd)window.addEventListener("SDK_GAME_START",function(e){if(3==s.showAdsPlace&&null!=t.lose)if(s.showAdsPlace=-1,s.isShowAds=!1,t.lose.active&&s.instance().retryCount++,cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_button"),0==t.win.active&&0==t.lose.active)s.instance().inGameRetryCount++,enableADS&&0<s.instance().currTower&&s.instance().inGameRetryCount>=l.NUM_RETRY_TO_SHOW_ADS?(s.instance().inGameRetryCount=0,s.instance().showAdsState=1,playAds(),t.goWinScreen=!0,t.schedule(function(){this.goWinScreen&&"none"==adsContainer.style.display&&reloadAds&&(s.instance().showAdsState=0,this.goWinScreen=!1,s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game"))},.2)):(s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game"));else{if(t.goWinScreen)return;s.instance().inGameRetryCount=0,s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game")}}),s.showAdsPlace=3,s.isShowAds=!0,c.default.instance.pauseAll(),gdsdk.showAd(),console.log("azerion show ad");else if(this.lose.active&&s.instance().retryCount++,cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_button"),0==this.win.active&&0==this.lose.active)s.instance().inGameRetryCount++,enableADS&&0<s.instance().currTower&&s.instance().inGameRetryCount>=l.NUM_RETRY_TO_SHOW_ADS?(s.instance().inGameRetryCount=0,s.instance().showAdsState=1,playAds(),this.goWinScreen=!0,this.schedule(function(){this.goWinScreen&&"none"==adsContainer.style.display&&reloadAds&&(s.instance().showAdsState=0,this.goWinScreen=!1,s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game"))},.2)):(s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game"));else{if(this.goWinScreen)return;s.instance().inGameRetryCount=0,s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game")}},next:function(){var n=this;if(!this.goWinScreen&&!s.isShowAds)if("undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd)window.addEventListener("SDK_GAME_START",function(e){if(4==s.showAdsPlace&&null!=n.lose){if(s.showAdsPlace=-1,s.isShowAds=!1,s.instance().retryCount=0,s.instance().inGameRetryCount=0,cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_select_house_"+Math.floor(3*Math.random()+1)),0<n.nextUnlock)s.instance().currTower=n.nextUnlock;else if(s.instance().currTower+1<s.instance().towersDefault.length)s.instance().currTower++;else{s.instance().currTower=0;for(var t=0;t<s.instance().towers.length;t++)if(!s.instance().towers[t]){s.instance().currTower=t;break}}n.scheduleOnce(function(){s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game")},1)}}),s.showAdsPlace=4,s.isShowAds=!0,c.default.instance.pauseAll(),gdsdk.showAd(),console.log("azerion show ad");else{if(s.instance().retryCount=0,s.instance().inGameRetryCount=0,cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_select_house_"+Math.floor(3*Math.random()+1)),0<this.nextUnlock)s.instance().currTower=this.nextUnlock;else if(s.instance().currTower+1<s.instance().towersDefault.length)s.instance().currTower++;else{s.instance().currTower=0;for(var e=0;e<s.instance().towers.length;e++)if(!s.instance().towers[e]){s.instance().currTower=e;break}}this.scheduleOnce(function(){s.instance().currScene="game",cc.director.resume(),cc.director.loadScene("game")},1)}},goCiti:function(){(1!=this.win.active&&1!=this.lose.active||!this.goWinScreen)&&(s.isShowAds||((this.lose.active||this.win.active)&&"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd?(window.addEventListener("SDK_GAME_START",function(e){5==s.showAdsPlace&&(s.showAdsPlace=-1,s.isShowAds=!1,cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_button"),cc.director.resume(),cc.director.loadScene("TyCoon"))}),s.showAdsPlace=5,s.isShowAds=!0,c.default.instance.pauseAll(),gdsdk.showAd(),console.log("azerion show ad")):(cc.find("Canvas/win/tutorial_board3").active&&(s.instance().tutoWin=!1,cc.sys.localStorage.setItem(s.encode(productKey+"__tutoWin"),s.encode("1")),cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1),c.default.instance.playEffect("sfx_button"),cc.director.resume(),cc.director.loadScene("TyCoon"))))},goMM:function(){c.default.instance.playEffect("sfx_button"),s.instance().currScene="Main_Menu",cc.director.resume(),cc.director.loadScene("Main_Menu")},onDestroy:function(){o.default.instance.unregisterTarget(this)},showComplete:function(e,t,n,o){this.endGame=1,this.complete.active=!0,cc.find("Canvas/action_phase/UI").active=!1,70<=s.instance().towers[s.instance().currTower][l.TOWER_PERCENT]&&(this.complete.getChildByName("complete_over70").active=!0),85<=s.instance().towers[s.instance().currTower][l.TOWER_PERCENT]&&(this.complete.getChildByName("complete_over85").active=!0),c.default.instance.playEffect("sfx_complete");var i=(this.actionPhase.getComponent("Game").tower.getComponent("Tower").towerMaxY-this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY)/this.actionPhase.getComponent("Game").tower.getComponent("Tower").towerHeight;this.actionPhase.getComponent("Game").tower.runAction(cc.scaleTo(1,i<1?i:1).easing(cc.easeCubicActionIn())),this.actionPhase.getComponent("Game").ground.runAction(cc.moveBy(1,cc.p(0,this.actionPhase.getComponent("Game").tower.getComponent("Tower").fallDownDist)).easing(cc.easeCubicActionIn())),this.schedule(function(){c.default.instance.setVolume("m_BGM",c.default.instance.getVolume("m_BGM")-.045)},.1,20),this.scheduleOnce(function(){this.complete.active=!1,this.showWinScreen(e,t,n,o)},2)},onLoad:function(){this.achivementMoveOut=cc.moveBy(1,0,2*this.achivementBoard.height),this.achivementMoveIn=cc.moveBy(1,0,2*-this.achivementBoard.height),this.isAchivementBoardMoveOut=!1,this.achivementBoard.active=!1,this.showAchivementID=0,this.nextUnlock=0,this.unlock=[],this.actionPhase.active=!0,this.win.active=!1,this.lose.active=!1,this.IGM.active=!1,this.complete.active=!1,this.endGame=0,this.winTowerInitScale=1,this.goWinScreen=!1,cc.find("Canvas/win/tutorial_board3").active=!1,cc.find("Canvas/win/tutorial_board4").active=!1,cc.find("Canvas/action_phase/UI/tutorial_board5").active=!1,cc.find("Canvas/lose/txt_lose_unstable").active=!0,cc.find("Canvas/lose/txt_lose_notenough").active=!1,cc.find("Canvas/lose/txt_lose_target").active=!1,cc.find("Canvas/lose/txt_lose_target_value").active=!1,o.default.instance.registerOnce(i.default.GAME_LOSE,this.showLoseScreen,this),o.default.instance.registerOnce(i.default.GAME_WIN,this.showComplete,this)},start:function(){s.instance().showAdsState=0,splash.style.display="none"},update:function(e){if(0<this.endGame&&(this.actionPhase.getComponent("Game").tower.y=this.actionPhase.getComponent("Game").ground.y+this.actionPhase.getComponent("Game").ground.height/2+this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundOffY-this.actionPhase.getComponent("Game").tower.getComponent("Tower").groundY*this.actionPhase.getComponent("Game").tower.scale),this.win.active){if(!this.achivementBoard.active)for(var t=0;t<s.instance().achievementState.length;t++)if(s.instance().achievementState[t]==l.ACHIEVEMENT_STATE_GET_UNLOCK){console.log("dsfsefsefsefsef"),this.achivementBoard.active=!0,this.achivementBoard.getChildByName("achiev_frame").getComponent(cc.Sprite).spriteFrame=this.achivementFrame[t];var n=this.achivementBoard.getChildByName("achiev_item_board").width/this.achivementBoard.getChildByName("achiev_frame").width,o=this.achivementBoard.getChildByName("achiev_item_board").height/this.achivementBoard.getChildByName("achiev_frame").height;if(n<1||o<1){var i=n<o?n:o;this.achivementBoard.getChildByName("achiev_frame").scale=i}return this.achivementBoard.getChildByName("txt_achievement").getComponent(cc.Label).string=r.t("main.STR_ACHIEVEMENT_"+(t+1)),this.achivementBoard.runAction(this.achivementMoveIn),this.showAchivementID=t,s.instance().achievementState[this.showAchivementID]==l.ACHIEVEMENT_STATE_GET_UNLOCK&&(s.instance().achievementState[this.showAchivementID]=l.ACHIEVEMENT_STATE_SHOW_UNLOCK,cc.sys.localStorage.setItem(s.encode(productKey+"__achievementState"),s.encode(JSON.stringify(s.instance().achievementState)))),void this.scheduleOnce(function(){this.isAchivementBoardMoveOut=!0,this.achivementBoard.runAction(this.achivementMoveOut)},3)}this.achivementMoveOut.isDone()&&this.isAchivementBoardMoveOut&&(this.achivementBoard.active=!1,this.isAchivementBoardMoveOut=!1)}}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"1dcc3MpmX9GpLkhtzfTiOsn","Game");var o=e("Global"),i=e("EventManager"),a=e("GameMessage"),s=e("SoundManager"),c=e("i18n");e("Define");cc.Class({extends:cc.Component,properties:{tower:{default:null,type:cc.Node},ground:{default:null,type:cc.Node},foreground:{default:null,type:cc.Node},scoreDisplay:{default:null,type:cc.Label},txtPerfect:{default:null,type:cc.Prefab},floorComplete:{default:null,type:cc.Label},timeFloor:{default:null,type:cc.Label},timeTotal:{default:null,type:cc.Label},population:{default:null,type:cc.Label},undoBtn:{default:null,type:cc.Node},undoFrame:{default:[],type:[cc.SpriteFrame]},undoText:{default:null,type:cc.Label},platform:{default:null,type:cc.Node},rope:{default:null,type:cc.Node},platformMoveDuration:.5},runTxtPerfect:function(){this.node.addChild(cc.instantiate(this.txtPerfect))},onLoad:function(){console.log("game"),o.instance().currScene="game",this.score=0,this.percentComplete=0,this.timeRemaining=o.instance().levelDesign[o.instance().currTower][2],this.node.getChildByName("tutorial_hand").active=!1,cc.find("UI/tutorial_board1",this.node).active=!1,cc.find("UI/tutorial_board2",this.node).active=!1,this.timeFloor.node.active=!1,this.timeTotal.node.active=!1,s.default.instance.stop("m_menu"),0==s.default.instance.isPlaying("m_BGM")&&(s.default.instance.playMusic("m_BGM",!0),s.default.instance.setVolume("m_BGM",1)),this.target=cc.find("Canvas/target")},start:function(){this.scoreDisplay.string=c.t("main.STR_GAME_FIT").replace("%s","0"),o.instance().firstEnterAP&&(o.instance().firstEnterAP=!1),dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Start",ga_label:window.productTitle,ga_noninteraction:!1})},update:function(e){this.target.active||(enableADS?"none"==adsContainer.style.display&&(this.timeRemaining-=e):this.timeRemaining-=e),0<o.instance().levelDesign[o.instance().currTower][2]&&(this.timeTotal.node.active=!0,this.timeTotal.string=0<this.timeRemaining?this.timeRemaining.toString().split(".")[0]:0,this.timeRemaining<=0&&i.default.instance.dispatch(a.default.GAME_TIME_OUT))}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"f0449/ZtFRE+LsFH5GC3W4g","Global");var a=e("EventManager"),s=e("GameMessage"),c=e("SoundManager"),r=cc.Class({extends:cc.Component,statics:{_instance:null,instance:function(){return null==r._instance&&(console.log("init global"),r._instance=new r),r._instance},encode:function(e){return window.btoa(e)},decode:function(e){return window.atob(e)},isShowAds:!1,showAdsPlace:-1},properties:{levelDesign:"",achievementDG:"",floorSpeed:"",spawnCloud:"",interactive:"",initFloorMoveDuration:1,minFloorMoveDuration:.3,percentDecreaseFloorMoveDuratin:5,fallStyle:0,initFirstBlock:1,percentToPerfect:90,lockedTowerOpacity:255,fitTowerY:1,perfectFadeTime:.2,perfectFadeOpacity:100,tycoonInitScale:.5,tycoonMinScale:.1,tycoonMaxScale:2,cutDrop:0,losePercent:50,detailEffectTime:.2,detailInitScale:.1,numPerfectToUndo:5,towerUnlockStartColor:"#1C8393",towerUnlockEndColor:"#B4B411",towerLockStartColor:"#0C0B0B",towerLockEndColor:"#BEB2B2",curveTower:0,numTowerShow:4},proceess:function(){this.schedule(function(){window.loadingPercent+=window.loadingPercent<80?2:.2,console.log(window.loadingPercent),(95<window.loadingPercent||"TyCoon"==r.instance().currScene)&&cc.director.getScheduler().unscheduleAllForTarget(this),updateLoading()},.5)},onLoad:function(){if(null==r._instance){if(r.instance().currTower=0,r.instance().numFloorOfCurrLV=5,r.instance().towers=[],r.instance().towerUnlock=[],r.instance().towerShowEffect100=[],r.instance().currScene="Main_Menu",r.instance().screenW=768,r.instance().screenH=1366,r.instance().towersDefault=[],r.instance().levelDesign=[],r.instance().achievement=[],r.instance().achievementState=[],r.instance().interactive=[],r.instance().floorSpeed=[],r.instance().currTowerUnlocked=0,r.instance().currPopulation=0,r.instance().lastPopulation=0,r.instance().interactivePopulation=0,r.instance().fallStyle=this.fallStyle,r.instance().initFirstBlock=this.initFirstBlock,r.instance().initFloorMoveDuration=this.initFloorMoveDuration,r.instance().minFloorMoveDuration=this.minFloorMoveDuration,r.instance().percentDecreaseFloorMoveDuratin=this.percentDecreaseFloorMoveDuratin,r.instance().percentToPerfect=this.percentToPerfect,r.instance().lockedTowerOpacity=this.lockedTowerOpacity,r.instance().fitTowerY=this.fitTowerY,r.instance().perfectFadeTime=this.perfectFadeTime,r.instance().perfectFadeOpacity=this.perfectFadeOpacity,r.instance().tycoonInitScale=this.tycoonInitScale,r.instance().tycoonMinScale=this.tycoonMinScale,r.instance().tycoonMaxScale=this.tycoonMaxScale,r.instance().cutDrop=1==this.cutDrop,r.instance().losePercent=this.losePercent,r.instance().tutoFirstGame=null==cc.sys.localStorage.getItem(r.encode(productKey+"__tutoFirstGame")),r.instance().tutoWin=null==cc.sys.localStorage.getItem(r.encode(productKey+"__tutoWin")),r.instance().tutoUndo=null==cc.sys.localStorage.getItem(r.encode(productKey+"__tutoUndo")),r.instance().tutoSelectTower=null==cc.sys.localStorage.getItem(r.encode(productKey+"__tutoSelectTower")),r.instance().detailEffectTime=this.detailEffectTime,r.instance().detailInitScale=this.detailInitScale,r.instance().spawnCloud=[],r.instance().towerUnlockStartColor=this.towerUnlockStartColor,r.instance().towerUnlockEndColor=this.towerUnlockEndColor,r.instance().towerLockStartColor=this.towerLockStartColor,r.instance().towerLockEndColor=this.towerLockEndColor,r.instance().numPerfectToUndo=this.numPerfectToUndo,r.instance().curveTower=this.curveTower,r.instance().numTowerShow=this.numTowerShow,r.instance().cacheFrame=[],r.instance().isLowDevice=!1,r.instance().isChrome=(-1<navigator.userAgent.toLowerCase().indexOf("chrome")||-1<navigator.userAgent.toLowerCase().indexOf("chromium"))&&navigator.userAgent.toLowerCase().indexOf("edge")<0&&navigator.userAgent.toLowerCase().indexOf("msie")<0&&navigator.userAgent.toLowerCase().indexOf("trident")<0&&navigator.userAgent.toLowerCase().indexOf("iemobile")<0,r.instance().firstEnterCity=!0,r.instance().firstEnterAP=!0,r.instance().retryCount=0,r.instance().inGameRetryCount=0,r.instance().showAdsState=0,r.instance().RATIO_FIT=0,r.instance().POPULATION_UNLOCK=1,0<this.levelDesign.length)for(var e=this.levelDesign.split(" "),t=0;t<e.length;t++){for(var n=[],o=e[t].split("\t"),i=0;i<o.length;i++)isNaN(o[i])?n.push(o[i]):n.push(parseFloat(o[i]));r.instance().levelDesign.push(n)}if(0<this.interactive.length)for(e=this.interactive.split(" "),t=0;t<e.length;t++){for(n=[],o=e[t].split("\t"),i=0;i<o.length;i++)isNaN(o[i])?n.push(o[i]):n.push(parseFloat(o[i]));r.instance().interactive.push(n)}if(0<this.achievementDG.length){for(e=this.achievementDG.split(" "),t=0;t<e.length;t++){for(n=[],o=e[t].split("\t"),i=0;i<o.length;i++)isNaN(o[i])?n.push(o[i]):n.push(parseFloat(o[i]));r.instance().achievement.push(n),null==cc.sys.localStorage.getItem(r.encode(productKey+"__achievementState"))&&r.instance().achievementState.push(0)}console.log(r.instance().achievement)}if(0<this.floorSpeed.length)for(e=this.floorSpeed.split(" "),t=0;t<e.length;t++){for(n=[],o=e[t].split("\t"),i=0;i<o.length;i++)isNaN(o[i])?n.push(o[i]):n.push(parseFloat(o[i]));r.instance().floorSpeed.push(n)}if(0<this.spawnCloud.length)for(e=this.spawnCloud.split(" "),t=0;t<e.length;t++){for(n=[],o=e[t].split("\t"),i=0;i<o.length;i++)isNaN(o[i])?n.push(o[i]):n.push(parseFloat(o[i]));r.instance().spawnCloud.push(n)}a.default.instance.dispatch(s.default.GLOBAL_LOADED),c.default.instance.init()}},start:function(){}});window.find_angle_Radians=function(e,t,n){var o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),a=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((i*i+o*o-a*a)/(2*i*o))},window.find_angle_Degrees=function(e,t,n){var o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),a=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return 180*Math.acos((i*i+o*o-a*a)/(2*i*o))/Math.PI},window._getQBezierValue=function(e,t,n,o){var i=1-e;return i*i*t+2*i*e*n+e*e*o},window.getQuadraticCurvePoint=function(e,t,n,o,i,a,s){return{x:_getQBezierValue(s,e,n,i),y:_getQBezierValue(s,t,o,a)}},window.getQuadraticCurveNPoint=function(e,t){for(var n=2;n<e.length;n+=2)if(t<e[n].y)return getQuadraticCurvePoint(e[n-2].x,e[n-2].y,e[n-1].x,e[n-1].y,e[n].x,e[n].y,(t-e[n-2].y)/(e[n].y-e[n-2].y-1))},console.log=function(){},cc._RF.pop()},{EventManager:"EventManager",GameMessage:"GameMessage",SoundManager:"SoundManager"}],Interactive:[function(e,t,n){"use strict";cc._RF.push(t,"6a50b9Ji61JoI9YwGrCuE3z","Interactive");var o=e("Global"),i=e("EventManager"),a=e("GameMessage"),s=(e("SoundManager"),e("Define"));cc.Class({extends:cc.Component,properties:{id:0},onclick:function(){o.instance().interactivePopulation+=o.instance().interactive[this.id][s.INTERACTIVE_CITIZEN_GET],cc.sys.localStorage.setItem(o.encode(productKey+"__interactivePopulation"),o.encode(o.instance().interactivePopulation)),this.node.active=!1,i.default.instance.dispatch(a.default.TYCOON_INTERACTIVE_CLICK,o.instance().interactive[this.id][s.INTERACTIVE_CITIZEN_GET],this.node.x,this.node.y),this.scheduleOnce(function(){this.node.active=!0},o.instance().interactive[this.id][s.INTERACTIVE_APPEAR_AGAIN])},onLoad:function(){},start:function(){this.initX=this.node.x,this.initY=this.node.y,this.node.active=!1,o.instance().tutoSelectTower||this.scheduleOnce(function(){this.node.active=!0},o.instance().interactive[this.id][s.INTERACTIVE_TIME_APPEAR])},onEnable:function(){this.initX&&(this.node.x=this.initX,this.node.y=this.initY)}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],LabelLocalized:[function(e,t,n){"use strict";cc._RF.push(t,"f40994rilhFTpRK/BpHb6Pg","LabelLocalized");var o=e("i18n");cc.Class({extends:cc.Component,editor:{requireComponent:cc.Label,menu:"i18n:MAIN_MENU.component.renderers/LabelLocalized",executeInEditMode:!0},properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.updateLabel()}}},onLoad:function(){this.label=this.getComponent(cc.Label),this.updateLabel()},updateLabel:function(){if(null==this.label&&(this.label=this.getComponent(cc.Label)),this.label){for(var e=this.textKey.trim().split("+"),t="",n=0;n<e.length;++n)t+=o.t(e[n]);this.label.string=t}}}),cc._RF.pop()},{i18n:"i18n"}],Main_Menu:[function(e,t,n){"use strict";cc._RF.push(t,"2fee6CuaOFNrqqrPy1lFaxg","Main_Menu");var c=e("Global"),o=e("EventManager"),i=e("GameMessage"),a=e("SoundManager"),s=e("Define");cc.Class({extends:cc.Component,properties:{startBtn:{default:null,type:cc.Node},settingBtn:{default:null,type:cc.Node},settingPopup:{default:null,type:cc.Node},language:{default:null,type:cc.Node},sound:{default:null,type:cc.Node},credit:{default:null,type:cc.Node},ludigame:{default:null,type:cc.Node}},onDestroy:function(){o.default.instance.unregisterTarget(this)},trackingGameReturn:function(){var e=new Date,t=e.getTime(),n=cc.sys.localStorage.getItem(c.encode(productKey+"gameReturn_lastPlayInDays")),o="",i=cc.sys.localStorage.getItem(c.encode(productKey+"gameReturn_firstDayInDays")),a=cc.sys.localStorage.getItem(c.encode(productKey+"gameReturn_firstDayGTM")),s="Dxx";void 0===window.dataLayer&&(window.dataLayer=[],window.productKey="urbanStack"),null==i?(i=n=Math.ceil(t/864e5),a=""+e.getFullYear()+this.zeropad(e.getMonth()+1,2)+this.zeropad(e.getDate(),2),s="D00",cc.sys.localStorage.setItem(c.encode(productKey+"gameReturn_lastPlayInDays"),c.encode(n)),cc.sys.localStorage.setItem(c.encode(productKey+"gameReturn_firstDayGTM"),c.encode(a)),cc.sys.localStorage.setItem(c.encode(productKey+"gameReturn_firstDayInDays"),c.encode(i)),dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Return",ga_label:window.productTitle,ga_noninteraction:!0,days:s})):(n=Number(c.decode(n)),a=Number(c.decode(a)),i=Number(c.decode(i)),n<(o=Math.ceil(t/864e5))&&(s="D"+this.zeropad(o-i,2),n=o,cc.sys.localStorage.setItem(c.encode(productKey+"gameReturn_lastPlayInDays"),c.encode(n)),dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Return",ga_label:window.productTitle,ga_noninteraction:!0,days:s})))},zeropad:function(e,t){var n=e<0?"-":"";e<0&&(e=-e);for(var o=t-e.toString().length,i=0;i<o;i++)n+="0";return n+e.toString()},onLoad:function(){var t=this;this.trackingGameReturn(),cc.director.getPhysicsManager().enabled=!0,c.currScene="Main_Menu",cc.director.preloadScene("TyCoon",function(){}),this.startBtn.on(cc.Node.EventType.TOUCH_END,function(e){a.default.instance.playEffect("sfx_button"),t.startBtn.active=!1,t.settingBtn.active=!1,t.sound.active=!1,t.language.active=!1,t.credit.active=!1,t.ludigame.active=!1,t.node.getChildByName("UI_title").active=!1,cc.director.loadScene("TyCoon");try{splash.style.display="block",window.loadingPercent=0,lang_load=window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language"))),setLoadingText(),window.loadingTimer=setInterval(setLoadingText,window.loadInterval),window.updateLoading(),c.instance().proceess()}catch(e){}}),cc.director.setDisplayStats(!1),this.anchorBottom=0,this.languageX=this.language.x,this.languagey=this.language.y+this.anchorBottom,this.soundX=this.sound.x,this.soundy=this.sound.y+this.anchorBottom,this.creditX=this.credit.x,this.credity=this.credit.y+this.anchorBottom,this.ludigamesX=this.ludigame.x,this.ludigamesy=this.ludigame.y+this.anchorBottom,this.settingState=0,this.moveTime=.2},start:function(){this.startBtn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.1),cc.scaleTo(.3,1)))),1==a.default.instance.initialized?0==a.default.instance.isPlaying("m_menu")&&a.default.instance.playMusic("m_menu",!0):(console.log("register sound"),console.log(o.default.instance),o.default.instance.registerOnce(i.default.SOUND_LOADED,function(){console.log("play bgm"),a.default.instance.playMusic("m_menu",!0)}));try{if(null!=cc.sys.localStorage.getItem(c.encode(productKey+"__towers"))){c.instance().towers=JSON.parse(c.decode(cc.sys.localStorage.getItem(c.encode(productKey+"__towers"))));for(var e=0;e<c.instance().towers.length;e++)c.instance().towers[e]&&(c.instance().currPopulation+=c.instance().towers[e][s.TOWER_POPULATION]);c.instance().lastPopulation=c.instance().currPopulation,c.instance().currTowerUnlocked=c.instance().towers.length,c.instance().currTower=c.instance().currTowerUnlocked-1,console.log(c.instance().towers)}null!=cc.sys.localStorage.getItem(c.encode(productKey+"__achievementState"))&&(c.instance().achievementState=JSON.parse(c.decode(cc.sys.localStorage.getItem(c.encode(productKey+"__achievementState"))))),null!=cc.sys.localStorage.getItem(c.encode(productKey+"__towerUnlock"))&&(c.instance().towerUnlock=JSON.parse(c.decode(cc.sys.localStorage.getItem(c.encode(productKey+"__towerUnlock"))))),null!=cc.sys.localStorage.getItem(c.encode(productKey+"__towerShowEffect100"))&&(c.instance().towerShowEffect100=JSON.parse(c.decode(cc.sys.localStorage.getItem(c.encode(productKey+"__towerShowEffect100"))))),null!=cc.sys.localStorage.getItem(c.encode(productKey+"__interactivePopulation"))&&(c.instance().interactivePopulation=Number(c.decode(cc.sys.localStorage.getItem(c.encode(productKey+"__interactivePopulation")))))}catch(e){}dataLayer.push({event:"ga_event",ga_category:"Gamepage",ga_action:"Main Menu",ga_label:window.productTitle,ga_noninteraction:!0}),this.languageX=this.language.x,this.languagey=this.language.y+this.anchorBottom,this.soundX=this.sound.x,this.soundy=this.sound.y+this.anchorBottom,this.creditX=this.credit.x,this.credity=this.credit.y+this.anchorBottom,this.ludigamesX=this.ludigame.x,this.ludigamesy=this.ludigame.y+this.anchorBottom},onSettingClick:function(){0==this.settingState&&(a.default.instance.playEffect("sfx_button"),this.language.active?(this.language.runAction(cc.moveTo(this.moveTime,cc.p(this.settingBtn.x,this.settingBtn.y))),this.sound.runAction(cc.moveTo(this.moveTime,cc.p(this.settingBtn.x,this.settingBtn.y))),this.credit.runAction(cc.moveTo(this.moveTime,cc.p(this.settingBtn.x,this.settingBtn.y))),this.ludigame.runAction(cc.moveTo(this.moveTime,cc.p(this.settingBtn.x,this.settingBtn.y))),this.settingState=1,this.scheduleOnce(function(){this.settingState=0,this.language.active=!1,this.sound.active=!1,this.credit.active=!1,this.ludigame.active=!1},this.moveTime)):(this.language.x=this.settingBtn.x,this.language.y=this.settingBtn.y,this.language.active=!0,this.language.runAction(cc.moveTo(this.moveTime,cc.p(this.languageX,this.languagey))),this.sound.x=this.settingBtn.x,this.sound.y=this.settingBtn.y,this.sound.active=!0,this.sound.runAction(cc.moveTo(this.moveTime,cc.p(this.soundX,this.soundy))),this.credit.x=this.settingBtn.x,this.credit.y=this.settingBtn.y,this.credit.active=!0,this.credit.runAction(cc.moveTo(this.moveTime,cc.p(this.creditX,this.credity))),this.ludigame.x=this.settingBtn.x,this.ludigame.y=this.settingBtn.y,this.ludigame.active=!0,this.ludigame.runAction(cc.moveTo(this.moveTime,cc.p(this.ludigamesX,this.ludigamesy))),this.settingState=1,this.scheduleOnce(function(){this.settingState=0},this.moveTime)))}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],MoveAround:[function(e,t,n){"use strict";cc._RF.push(t,"1423aDDqfpIZ7JKClqeHjiW","MoveAround"),cc.Class({extends:cc.Component,properties:{type:0,startX:-384,endX:1e3,speed:5,flipImage:1},start:function(){},update:function(e){0==this.type?(this.node.x+=this.speed,(this.node.x>this.endX||this.node.x<this.startX)&&(this.speed=-this.speed,1==this.flipImage&&(this.node.scaleX=-this.node.scaleX))):(this.node.y+=this.speed,(this.node.y>this.endX||this.node.y<this.startX)&&(this.speed=-this.speed,1==this.flipImage&&(this.node.scaleY=-this.node.scaleY)))}}),cc._RF.pop()},{}],Pin:[function(e,t,n){"use strict";cc._RF.push(t,"0548fOXCPFPY7KuJNj8yKbT","Pin"),cc.Class({extends:cc.Component,properties:{pinNode:{default:null,type:cc.Node},pinX:1,pinY:1,offX:0,offY:0},start:function(){},lateUpdate:function(e){null!=this.pinNode&&(1==this.pinX&&(this.node.x=this.pinNode.x+this.offX),1==this.pinY&&(this.node.y=this.pinNode.y+this.offY))}}),cc._RF.pop()},{}],PositionFollow:[function(e,t,n){"use strict";cc._RF.push(t,"815937ozxlHdIh7o9I4mbVJ","PositionFollow"),cc.Class({extends:cc.Component,properties:{followNode:{default:null,type:cc.Node},followX:1,followY:1,rate:1},onLoad:function(){this.lastX=this.followNode.x,this.lastY=this.followNode.y},start:function(){},lateUpdate:function(e){null!=this.followNode&&(1==this.followX&&(this.node.x+=(this.followNode.x-this.lastX)*this.rate,this.lastX=this.followNode.x),1==this.followY&&(this.node.y+=(this.followNode.y-this.lastY)*this.rate,this.lastY=this.followNode.y))}}),cc._RF.pop()},{}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"fc69fhr+LxPIajYmTBdFIZD","SoundManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,e("./EventManager")),s=e("./GameMessage"),c=function(){function e(){this.sounds={},this.playingSounds={},this.initialized=!1,this.isMute=!1}return t=e,Object.defineProperty(e,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(){var i=this;null==cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-sound"))?cc.sys.localStorage.setItem(window.btoa(productKey+"__gamesave-sound"),window.btoa("1")):this.isMute="0"===window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-sound"))),cc.loader.loadResDir("sounds",function(e,t,o){0<o.length&&(t.forEach(function(e,t){if(-1!=o[t].indexOf("sounds/background")||-1!=o[t].indexOf("sounds/effect")){var n=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")).toLowerCase();i.sounds[n]=e}}),i.initialized=!0,a.default.instance.dispatch(s.default.SOUND_LOADED))})},e.prototype.playMusic=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=1),!this.isMute)if(e=e.toLowerCase(),this.sounds[e]){cc.log("play music: "+e);var o=cc.audioEngine.play(this.sounds[e],t,n);this.playingSounds[e]=o}else cc.error("playMusic - clipName: "+e+" not found")},e.prototype.setVolume=function(e,t){void 0===t&&(t=1),this.isMute||(e=e.toLowerCase(),null!=this.playingSounds[e]&&cc.audioEngine.setVolume(this.playingSounds[e],t))},e.prototype.getVolume=function(e){if(!this.isMute)return e=e.toLowerCase(),null!=this.playingSounds[e]?cc.audioEngine.getVolume(this.playingSounds[e]):void 0},e.prototype.playEffect=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=1),!this.isMute)if(e=e.toLowerCase(),this.sounds[e]){cc.log("play effect: "+e);var o=cc.audioEngine.play(this.sounds[e],t,n);this.playingSounds[e]=o}else cc.error("playEffect - clipName: "+e+" not found")},e.prototype.playRandom=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=1),!this.isMute){var o=Math.floor(cc.random0To1()*e.length),i=e[o].toLowerCase();if(this.sounds[i]){cc.log("play random: "+i);var a=cc.audioEngine.play(this.sounds[i],t,n);this.playingSounds[i]=a}else cc.error("playRandom - clipName: "+e[o]+" not found")}},e.prototype.pause=function(e){this.isMute||(e=e.toLowerCase(),null!=this.playingSounds[e]?cc.audioEngine.pause(this.playingSounds[e]):cc.warn("Pause sound: "+e+" is not in playing list"))},e.prototype.resume=function(e){this.isMute||(e=e.toLowerCase(),null!=this.playingSounds[e]?cc.audioEngine.resume(this.playingSounds[e]):cc.warn("Resume sound: "+e+" is not in playing list"))},e.prototype.stop=function(e){this.isMute||(cc.log("stop sound: "+e),e=e.toLowerCase(),null!=this.playingSounds[e]?(cc.audioEngine.stop(this.playingSounds[e]),delete this.playingSounds[e]):cc.warn("Stop sound: "+e+" is not in playing list"))},e.prototype.isPlaying=function(e){return e=e.toLowerCase(),null!=this.playingSounds[e]&&cc.audioEngine.getState(this.playingSounds[e])==cc.audioEngine.AudioState.PLAYING},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){this.isMute||cc.audioEngine.resumeAll()},e.prototype.stopAll=function(){this.isMute||(cc.log("stop all sound"),cc.audioEngine.stopAll())},e._instance=null,e=t=__decorate([i],e);var t}();n.default=c,cc._RF.pop()},{"./EventManager":"EventManager","./GameMessage":"GameMessage"}],Towers:[function(e,t,n){"use strict";cc._RF.push(t,"ce38d8SbfVLiL9N3cnZ4qam","Towers");var o=e("Global");e("EventManager"),e("GameMessage"),e("SoundManager"),e("Define");cc.Class({extends:cc.Component,properties:{moveDuration:1,numTowerOnscreen:2,percentFit:{default:null,type:cc.Prefab},percentFit100:{default:null,type:cc.Prefab},UI_Lock:{default:null,type:cc.Prefab},unlock_construction:{default:null,type:cc.Prefab},effect100:{default:null,type:cc.Prefab},lockIconOffY:-100},setMoveFirst:function(e){var t=cc.moveBy(this.moveDuration,cc.p(-o.instance().screenW,0)).easing(cc.easeCubicActionIn()),n=cc.moveBy(this.moveDuration,cc.p(-o.instance().screenW/4,0)).easing(cc.easeCubicActionIn());return 1==e?t:2==e?cc.sequence(t,n):void 0},setMoveRight:function(){return cc.moveBy(this.moveDuration,cc.p(this.node.x+o.instance().screenW/this.numTowerOnscreen<this.boundLeft?o.instance().screenW/this.numTowerOnscreen:this.boundLeft-this.node.x,0)).easing(cc.easeCubicActionIn())},setMoveLeft:function(){return cc.moveBy(this.moveDuration,cc.p(this.node.x-o.instance().screenW/this.numTowerOnscreen>this.boundRight?-o.instance().screenW/this.numTowerOnscreen:this.boundRight-this.node.x,0)).easing(cc.easeCubicActionIn())},onLoad:function(){this.moveType=1,this.bottomY=0,this.initY=this.node.y,this.boundRight=0,this.boundLeft=0,console.log("tycoon scene");try{this.moveRight=this.setMoveRight(),this.moveLeft=this.setMoveLeft(),this.towers=this.node.getComponentsInChildren("Tower")}catch(e){}},start:function(){try{if(0==o.instance().towersDefault.length)for(var e=0;e<this.towers.length;e++)o.instance().towersDefault[this.towers[e].getComponent("Tower").towerID]=this.towers[e].getComponent("Tower").getTowerInfo(0,0,0),null==cc.sys.localStorage.getItem(o.encode(productKey+"__towerUnlock"))&&o.instance().towerUnlock.push(0),null==cc.sys.localStorage.getItem(o.encode(productKey+"__towerShowEffect100"))&&o.instance().towerShowEffect100.push(0);for(e=0;e<this.towers.length;e++)if(this.towers[e].getComponent("Tower").towerID>=o.instance().numTowerShow+o.instance().towers.length+(100==o.instance().currTowerUnlocked?100:0)&&(this.towers[e].getComponent("Tower").node.active=!1),this.towers[e].getComponent("Tower").node.active){var t=-(this.towers[e].node.x+this.towers[e].getComponent("Tower").floors[0].node.x)*o.instance().tycoonInitScale;t<this.boundRight&&(this.boundRight=t)}for(e=0;e<this.towers.length;e++)this.towers[e].getComponent("Tower").bottomY<this.bottomY&&(this.bottomY=this.towers[e].getComponent("Tower").bottomY);this.towers.length>this.numTowerOnscreen&&(this.node.x-=(this.towers[o.instance().currTower].node.x+this.towers[o.instance().currTower].getComponent("Tower").floors[0].node.x)*o.instance().tycoonInitScale)}catch(e){}},lateUpdate:function(e){this.node.x>this.boundLeft&&(this.node.x=this.boundLeft),this.node.x<this.boundRight&&(this.node.x=this.boundRight)}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],Tower:[function(e,t,n){"use strict";cc._RF.push(t,"eb41dydTWlOX5i3EuSnpbd6","Tower");var N=e("Global"),S=e("EventManager"),w=e("GameMessage"),v=e("SoundManager"),I=e("i18n"),y=e("Define");cc.Class({extends:cc.Component,properties:{floorSpawnX:500,floorSpawnY:500,towerMaxY:0,leftLimitX:-350,rightLimitX:350,towerID:0,autoAlignX:0,numComboFloor:3,numRewardCombo:1,fallDownSpeed:10,groundOffY:0,specificNode:!1,foregroundCloudFrefab:{default:[],type:[cc.Prefab]},theFloorFrefab:{default:[],type:[cc.Prefab]},particlePerfect:{default:null,type:cc.Prefab}},getFloorPrefabID:function(e,t){for(var n=0;n<this.theFloorFrefab.length;n++)if(null!=this.theFloorFrefab[n]&&this.theFloorFrefab[n].data._name==N.instance().towersDefault[e][y.TOWER_FLOOR_INFO][t][y.FLOOR_NAME])return n;return 0},getFloorPrefabIDByName:function(e){for(var t=0;t<this.theFloorFrefab.length;t++)if(null!=this.theFloorFrefab[t]&&this.theFloorFrefab[t].data._name==e)return t;return 0},spawnFloor:function(){-1e5==this.groundY&&(this.groundY=this.node.parent.getComponent("Game").ground.y+this.node.parent.getComponent("Game").ground.height/2+this.groundOffY,this.nextLandedY=this.groundY);for(var e=0;e<N.instance().spawnCloud[0].length;e++)if(N.instance().spawnCloud[0][e]==this.numFloor){var t=cc.instantiate(this.foregroundCloudFrefab[Math.floor(Math.random()*this.foregroundCloudFrefab.length+1)-1]);t.setPosition((N.instance().screenW/2-t.width/2)*(this.numFloor%2==0?1:-1),0==N.instance().fallStyle?this.nextLandedY+t.height/2:this.floorSpawnY+this.fallDownDist),this.node.addChild(t)}var n=this.getFloorPrefabID(N.instance().currTower,this.numFloor);this.floors[this.numFloor]=cc.instantiate(this.theFloorFrefab[n]),this.node.addChild(this.floors[this.numFloor]),this.numFloor==N.instance().towersDefault[N.instance().currTower][0].length-1&&0==this.rewardCombo?(this.platform.y=700+this.platform.getComponent(cc.RopeJoint).maxLength,this.floors[this.numFloor].setPosition(0,this.platform.y-this.platform.getComponent(cc.RopeJoint).maxLength+this.fallDownDist),this.floors[this.numFloor].getComponent("floor").addPhysic(!1),this.floors[this.numFloor].getComponent("floor").body.gravityScale=1/this.node.parent.getComponent("Game").platformMoveDuration,this.platform.getComponent(cc.Joint).connectedBody=this.floors[this.numFloor].getComponent("floor").body,this.platform.getComponent(cc.Joint).apply(),this.platform.runAction(cc.moveBy(this.node.parent.getComponent("Game").platformMoveDuration,0,-this.platform.getComponent(cc.RopeJoint).maxLength)),this.rope.addComponent("Pin"),this.rope.getComponent("Pin").pinNode=this.platform,this.endFloor=!0,this.floors[this.numFloor].getComponent("floor").moveState=1):this.floors[this.numFloor].setPosition((this.rightLimitX-this.floors[this.numFloor].getComponent("floor").node.width/2)*(this.numFloor%2==0?1:-1),0==N.instance().fallStyle?this.nextLandedY+this.floors[this.numFloor].getComponent("floor").node.height/2:this.floorSpawnY+this.fallDownDist),N.instance().tutoFirstGame||this.tutoUndo||this.floors[this.numFloor].getComponent("floor").initTouchEvent(),this.floors[this.numFloor].getComponent("floor").floorType=n,this.floors[this.numFloor].getComponent("floor").floorID=this.numFloor,this.numFloor!=N.instance().towersDefault[N.instance().currTower][0].length-1&&(this.floors[this.numFloor].getComponent("floor").moveAction=this.floors[this.numFloor].getComponent("floor").setMoveAction(),this.floors[this.numFloor].getComponent("floor").node.runAction(this.floors[this.numFloor].getComponent("floor").moveAction)),1==N.instance().initFirstBlock&&(0==this.numFloor&&this.floors[this.numFloor].getComponent("floor").initFirstFloor(0),this.node.parent.getComponent("Game").floorComplete.string=this.numFloor+"/"+N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO].length),this.tutoUndo&&(this.floors[this.numFloor].getComponent("floor").node.opacity=0)},onLanded:function(e,t){this.nextLandedY+=e.getComponent("floor").node.height,this.towerHeight+=e.getComponent("floor").node.height,this.floors[this.numFloor].getComponent("floor").moveState=3,e.getComponent("floor").node.y-this.fallDownDist>this.towerMaxY&&(this.fallDownDistRemain+=e.getComponent("floor").node.y-this.fallDownDist-this.towerMaxY,this.fallDownDist+=e.getComponent("floor").node.y-this.fallDownDist-this.towerMaxY);var n=(this.floors[this.numFloor].getComponent("floor").node.width-Math.abs(this.floors[this.numFloor].getComponent("floor").node.x-this.floors[this.numFloor-1].getComponent("floor").node.x-(N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][this.numFloor][y.FLOOR_X]-N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][this.numFloor-1][y.FLOOR_X])))/this.floors[this.numFloor].getComponent("floor").node.width*100;if(n>=N.instance().percentToPerfect){n=100,this.floors[this.numFloor].getComponent("floor").node.x=N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][this.numFloor][y.FLOOR_X]-N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][this.numFloor-1][y.FLOOR_X]+this.floors[this.numFloor-1].getComponent("floor").node.x,this.floors[this.numFloor].getComponent("floor").node.runAction(this.floors[this.numFloor].getComponent("floor").fadeAction),this.node.parent.getComponent("Game").runTxtPerfect();var o=new cc.Node;this.node.addChild(o),o.setPosition(e.getComponent("floor").node.x,e.getComponent("floor").node.y-e.getComponent("floor").node.height/2),o.addChild(cc.instantiate(this.particlePerfect))}n<0&&(n=0);var i=(this.floors[this.numFloor].getComponent("floor").node.width-Math.abs(this.floors[this.numFloor].getComponent("floor").node.x-this.floors[0].getComponent("floor").node.x-(N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][this.numFloor][y.FLOOR_X]-N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO][0][y.FLOOR_X])))/this.floors[this.numFloor].getComponent("floor").node.width*100;i<0&&(i=0),100==n?0==this.rewardCombo&&(this.totalPerfect++,this.combo++,console.log("sfx_perfect_"+this.sfxPerfectCount),v.default.instance.playEffect("sfx_perfect_"+this.sfxPerfectCount),this.sfxPerfectCount+=1,9<this.sfxPerfectCount&&(this.sfxPerfectCount=1),this.undoPerfectCount<N.instance().numPerfectToUndo&&(this.undoPerfectCount++,this.node.parent.getComponent("Game").undoText.string="Perfect %s times\nto active".replace("%s",N.instance().numPerfectToUndo-this.undoPerfectCount),this.undoPerfectCount!=N.instance().numPerfectToUndo||N.instance().tutoUndo||(this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Sprite).spriteFrame=this.node.parent.getComponent("Game").undoFrame[0],this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Button).interactable=!0,this.node.parent.getComponent("Game").undoText.node.active=!1))):(this.combo=0,this.sfxPerfectCount=1,v.default.instance.playEffect("sfx_stack_"+Math.floor(5*Math.random()+1))),0<this.rewardCombo&&(this.rewardCombo--,this.combo=0),this.combo==this.numComboFloor&&(this.rewardCombo=this.numRewardCombo),i=(i+n)/2,this.lastMinPercent=this.minPercent,this.lastTotalPercentOff=this.totalPercentOff,this.lastPercent=this.node.parent.getComponent("Game").percentComplete,i<this.minPercent&&(this.minPercent=i),this.totalPercentOff+=100-i;var a=1<this.numFloor?this.minPercent-(this.totalPercentOff-(100-this.minPercent))/(this.numFloor-1):this.minPercent;if(this.node.parent.getComponent("Game").percentComplete=0<a?a:this.minPercent,this.lastLandedX=this.floors[this.numFloor].getComponent("floor").node.x,this.lastLandedHalfW=this.floors[this.numFloor].getComponent("floor").node.width/2,N.instance().cutDrop){var s=t.getComponent("floor").node.x-t.getComponent("floor").node.width/2+t.getComponent("floor").cutLeft,c=t.getComponent("floor").node.x+t.getComponent("floor").node.width/2-t.getComponent("floor").cutRight;this.floors[this.numFloor].getComponent("floor").cutLeft=0<s-(this.floors[this.numFloor].getComponent("floor").node.x-this.floors[this.numFloor].getComponent("floor").node.width/2)?s-(this.floors[this.numFloor].getComponent("floor").node.x-this.floors[this.numFloor].getComponent("floor").node.width/2):0,this.floors[this.numFloor].getComponent("floor").cutRight=0<this.floors[this.numFloor].getComponent("floor").node.x+this.floors[this.numFloor].getComponent("floor").node.width/2-c?this.floors[this.numFloor].getComponent("floor").node.x+this.floors[this.numFloor].getComponent("floor").node.width/2-c:0,this.floors[this.numFloor].getComponent(cc.Sprite).type=cc.Sprite.Type.FILLED,this.floors[this.numFloor].getComponent(cc.Sprite).fillType=cc.Sprite.FillType.HORIZONTAL,this.floors[this.numFloor].getComponent(cc.Sprite).fillStart=this.floors[this.numFloor].getComponent("floor").cutLeft/this.floors[this.numFloor].getComponent("floor").node.width,this.floors[this.numFloor].getComponent(cc.Sprite).fillRange=1-this.floors[this.numFloor].getComponent("floor").cutRight/this.floors[this.numFloor].getComponent("floor").node.width}if(this.node.parent.getComponent("Game").floorComplete.string=this.numFloor+"/"+N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO].length,this.numFloor++,this.node.parent.getComponent("Game").scoreDisplay.string=I.t("main.STR_GAME_FIT").replace("%s",Math.round(this.node.parent.getComponent("Game").percentComplete).toString()),this.node.parent.getComponent("Game").population.string=Math.floor(this.node.parent.getComponent("Game").percentComplete*N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]),a<N.instance().losePercent)this.loseGame(Math.floor(this.node.parent.getComponent("Game").percentComplete*N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]),Math.round(this.node.parent.getComponent("Game").percentComplete),N.instance().losePercent);else{if(N.instance().tutoUndo&&n<100&&this.numFloor<N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO].length){this.tutoUndo=!0;var r=cc.find("Canvas/action_phase/tutorial_hand");r.active=!0,r.x=this.node.parent.getComponent("Game").undoBtn.x+cc.find("Canvas/action_phase/tutorial_hand/tutorial_hand_1").width/2,r.y=this.node.parent.getComponent("Game").undoBtn.y+cc.find("Canvas/action_phase/tutorial_hand/tutorial_hand_1").height/2,this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Sprite).spriteFrame=this.node.parent.getComponent("Game").undoFrame[0],this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Button).interactable=!0,cc.find("Canvas/action_phase/UI/tutorial_board5").active=!0}if(this.numFloor==N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO].length){S.default.instance.unregisterTarget(this),this.node.parent.getComponent("Game").floorComplete.string=Math.round(this.numFloor)+"/"+N.instance().towersDefault[N.instance().currTower][y.TOWER_FLOOR_INFO].length;for(var l=N.instance().currPopulation=0;l<N.instance().towers.length;l++)this.towerID!=l&&N.instance().towers[l]&&(N.instance().currPopulation+=N.instance().towers[l][y.TOWER_POPULATION]);console.log(N.instance().currPopulation),console.log(N.instance().levelDesign[this.towerID][N.instance().POPULATION_UNLOCK]),console.log(N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]);var d=Math.floor((N.instance().levelDesign[this.towerID][N.instance().POPULATION_UNLOCK]-N.instance().currPopulation-N.instance().interactivePopulation)/N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]),h=Math.floor(this.node.parent.getComponent("Game").percentComplete*N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]),u=!1,_=!0;(this.towerID+1)%4!=0?(u=!0,_=!1):this.totalPerfect>=y.BOSS_LEVEL_PARAM[this.towerID+1]&&(u=!0);for(var g=this.towerID,m=this.towerID+1;m<N.instance().towerUnlock.length;m++)if(0==N.instance().towerUnlock[m]){g=m;break}var p=!1;if(N.instance().towers[this.towerID]&&1==N.instance().towers[this.towerID][y.TOWER_TARGET_PASS]&&(p=!0),h+N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().levelDesign[N.instance().towers[this.towerID]?this.towerID:g-1][N.instance().POPULATION_UNLOCK]||p){var T=0,f=0;if(N.instance().towers[this.towerID]&&(T=N.instance().towers[this.towerID][y.TOWER_POPULATION],f=N.instance().towers[this.towerID][y.TOWER_PERCENT]),N.instance().currTowerUnlocked<this.towerID+1&&(N.instance().currTowerUnlocked=this.towerID+1),T<h&&(!_||u)&&(N.instance().towers[this.towerID]=this.getTowerInfo(h,Math.floor(this.node.parent.getComponent("Game").percentComplete),u?1:0),N.instance().currPopulation+=N.instance().towers[this.towerID][y.TOWER_POPULATION],cc.sys.localStorage.setItem(N.encode(productKey+"__towers"),N.encode(JSON.stringify(N.instance().towers)))),u){1==N.instance().curveTower&&Math.floor(this.node.parent.getComponent("Game").percentComplete)<100&&this.renderCompleteTower();for(l=0;l<this.removeFloor.length;l++)this.removeFloor[l].active=!1;S.default.instance.dispatch(w.default.GAME_WIN,T,f,h,Math.floor(this.node.parent.getComponent("Game").percentComplete))}else cc.find("Canvas/lose/txt_lose_unstable").active=!1,cc.find("Canvas/lose/txt_lose_notenough").active=!0,cc.find("Canvas/lose/txt_lose_target").active=!0,cc.find("Canvas/lose/txt_lose_target_value").active=!0,S.default.instance.dispatch(w.default.GAME_LOSE,h,Math.floor(this.node.parent.getComponent("Game").percentComplete),d)}else{T=0;N.instance().towers[this.towerID]&&(T=N.instance().towers[this.towerID][y.TOWER_POPULATION]),T<h&&!_&&(N.instance().towers[this.towerID]=this.getTowerInfo(h,Math.floor(this.node.parent.getComponent("Game").percentComplete),0),T=h),N.instance().currPopulation+=T,cc.sys.localStorage.setItem(N.encode(productKey+"__towers"),N.encode(JSON.stringify(N.instance().towers))),cc.find("Canvas/lose/txt_lose_unstable").active=!1,cc.find("Canvas/lose/txt_lose_notenough").active=!0,cc.find("Canvas/lose/txt_lose_target").active=!0,cc.find("Canvas/lose/txt_lose_target_value").active=!0,S.default.instance.dispatch(w.default.GAME_LOSE,h,Math.floor(this.node.parent.getComponent("Game").percentComplete),d)}for(l=0;l<N.instance().achievementState.length;l++)if(N.instance().achievementState[l]==y.ACHIEVEMENT_STATE_LOCK)if(N.instance().achievement[l][y.ACHIEVEMENT_TYPE]==y.ACHIEVEMENT_TYPE_UNLOCK_BUILDING)N.instance().towers.length>=N.instance().achievement[l][y.ACHIEVEMENT_NUM_BUILDING]&&(N.instance().achievementState[l]=y.ACHIEVEMENT_STATE_GET_UNLOCK);else if(N.instance().achievement[l][y.ACHIEVEMENT_TYPE]==y.ACHIEVEMENT_TYPE_BUILDING_OVER)for(var E=0,C=0;C<N.instance().towers.length;C++)N.instance().towers[C]&&N.instance().towers[C][2]>=N.instance().achievement[l][y.ACHIEVEMENT_PERCENT]&&E++,E>=N.instance().achievement[l][y.ACHIEVEMENT_NUM_BUILDING]&&(N.instance().achievementState[l]=y.ACHIEVEMENT_STATE_GET_UNLOCK);else N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().achievement[l][y.ACHIEVEMENT_CITIZENS]&&(N.instance().achievementState[l]=y.ACHIEVEMENT_STATE_GET_UNLOCK);cc.sys.localStorage.setItem(N.encode(productKey+"__achievementState"),N.encode(JSON.stringify(N.instance().achievementState)))}else this.spawnFloor(),0<this.rewardCombo&&this.floors[this.numFloor].getComponent("floor").initFirstFloor(this.floors[this.numFloor-1].getComponent("floor").node.x)}},loseGame:function(e,t,n){if(null!=this.node){this.gameLose=!0;for(var o=0;o<this.floors.length;o++){this.floors[o].getComponent("floor").addPhysic(0==o),this.floors[o].addComponent(cc.Button),this.floors[o].getComponent(cc.Button).interactable=!1,this.floors[o].getComponent(cc.Button).enableAutoGrayEffect=!0;for(var i=0;i<this.floors[o].children.length;i++)for(var a=this.floors[o].children[i],s=0;s<a.children.length;s++)a.children[s].addComponent(cc.Button),a.children[s].getComponent(cc.Button).interactable=!1,a.children[s].getComponent(cc.Button).enableAutoGrayEffect=!0}for(o=N.instance().currPopulation=0;o<N.instance().towers.length;o++)this.towerID!=o&&N.instance().towers[o]&&(N.instance().currPopulation+=N.instance().towers[o][y.TOWER_POPULATION]);cc.find("Canvas/lose/txt_lose_target").active=!0,cc.find("Canvas/lose/txt_lose_target_value").active=!0,S.default.instance.dispatch(w.default.GAME_LOSE,e,t,n)}},onUndo:function(){var e,t;this.floors.length<3||N.instance().tutoUndo&&!this.tutoUndo||(this.totalUndo++,this.tutoUndo&&(N.instance().tutoUndo=!1,this.tutoUndo=!1,cc.sys.localStorage.setItem(N.encode(productKey+"__tutoUndo"),N.encode("1")),cc.find("Canvas/action_phase/tutorial_hand").active=!1,cc.find("Canvas/action_phase/UI/tutorial_board5").active=!1),this.endFloor&&(this.endFloor=!1,this.platform.getComponent(cc.Joint).connectedBody=null,this.platform.getComponent(cc.Joint).apply(),this.floors[this.floors.length-1].getComponent("floor").removePhysic(),this.platform.runAction(cc.moveBy(this.node.parent.getComponent("Game").platformMoveDuration,0,this.platform.getComponent(cc.RopeJoint).maxLength))),v.default.instance.playEffect("sfx_button"),this.nextLandedY-=this.floors[this.floors.length-2].getComponent("floor").node.height,this.node.removeChild(this.floors[this.floors.length-1],!0),this.floors.pop(),e=[cc.p(this.floors[this.floors.length-1].getComponent("floor").node.x,this.floors[this.floors.length-1].getComponent("floor").node.y),cc.p((this.numFloor-1)%2==0?-600:600,this.floors[this.floors.length-1].getComponent("floor").node.y),cc.p((this.numFloor-1)%2==0?-600:600,this.floors[this.floors.length-1].getComponent("floor").node.y-1e3)],t=cc.bezierTo(1,e),this.floors[this.floors.length-1].getComponent("floor").node.stopAllActions(),this.floors[this.floors.length-1].getComponent("floor").node.runAction(t),this.removeFloor.push(this.floors[this.floors.length-1]),this.floors.pop(),this.numFloor-=1,this.minPercent=this.lastMinPercent,this.totalPercentOff=this.lastTotalPercentOff,this.node.parent.getComponent("Game").scoreDisplay.string=I.t("main.STR_GAME_FIT").replace("%s",Math.round(this.lastPercent).toString()),this.undoPerfectCount=0,this.node.parent.getComponent("Game").undoText.string="Perfect %s times\nto active".replace("%s",N.instance().numPerfectToUndo-this.undoPerfectCount),this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Sprite).spriteFrame=this.node.parent.getComponent("Game").undoFrame[1],this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Button).interactable=!1,this.node.parent.getComponent("Game").undoText.node.active=!0,this.spawnFloor())},loadRenderTower:function(e,t){for(var n=0,o=0;o<e[0].length;o++){var i=cc.instantiate(this.theFloorFrefab[this.getFloorPrefabIDByName(e[y.TOWER_FLOOR_INFO][o][y.FLOOR_NAME])]);0==o&&(this.firstFloorH=i.getComponent("floor").node.height,n=t+this.firstFloorH/2),this.node.addChild(i),i.setPosition(e[y.TOWER_FLOOR_INFO][o][y.FLOOR_X],e[y.TOWER_FLOOR_INFO][o][y.FLOOR_Y]+n)}},getTowerInfo:function(e,t,n){var o=[];o[y.TOWER_FLOOR_INFO]=[];for(var i=this.floors[0].getComponent("floor").node.x,a=this.floors[0].getComponent("floor").node.y,s=0,c=0;c<this.floors.length;c++){var r=[];r[y.FLOOR_NAME]=this.floors[c].getComponent("floor").node._name,r[y.FLOOR_X]=this.floors[c].getComponent("floor").node.x-i,r[y.FLOOR_Y]=this.floors[c].getComponent("floor").node.y-a,r[y.FLOOR_WIDTH]=this.floors[c].getComponent("floor").node.width,r[y.FLOOR_HEIGHT]=this.floors[c].getComponent("floor").node.height,r[y.FLOOR_BOTTOM_Y]=s,s+=r[4],o[0].push(r)}return o[y.TOWER_POPULATION]=e,o[y.TOWER_PERCENT]=t,o[y.TOWER_WIDTH]=0,o[y.TOWER_HEIGHT]=this.getTowerHeight(),o[y.TOWER_TARGET_PASS]=n,o},getTowerHeight:function(){for(var e=this.node.getComponentsInChildren("floor"),t=0,n=0;n<e.length;n++)t+=e[n].getComponent("floor").node.height;return t},renderTower:function(e,t,n){var o=cc.instantiate(Math.round(e[y.TOWER_PERCENT])<100?this.node.parent.getComponent("Towers").percentFit:this.node.parent.getComponent("Towers").percentFit100);o.getChildByName("percent").getComponent(cc.Label).string=I.t("main.STR_GAME_FIT").replace("%s",Math.round(e[y.TOWER_PERCENT])),o.getChildByName("percent").active=!0,o.scale=1/N.instance().tycoonInitScale;for(var i=0;i<this.floors.length;i++)if(this.floors[i].getComponent("floor").node.x=e[y.TOWER_FLOOR_INFO][i][y.FLOOR_X]+t,this.floors[i].getComponent("floor").node.y=e[y.TOWER_FLOOR_INFO][i][y.FLOOR_Y]+n,i==this.floors.length-1&&(this.node.addChild(o),o.x=this.floors[i].getComponent("floor").node.x,o.y=this.floors[i].getComponent("floor").node.y+this.floors[i].getComponent("floor").node.height/2+o.height,100<=Math.round(e[y.TOWER_PERCENT])&&0==N.instance().towerShowEffect100[this.towerID])){var a=cc.instantiate(this.node.parent.getComponent("Towers").effect100);a.scale=1/N.instance().tycoonInitScale,this.node.addChild(a),a.x=this.floors[i].getComponent("floor").node.x,a.y=this.floors[i].getComponent("floor").node.y+this.floors[i].getComponent("floor").node.height/2-a.height/2/N.instance().tycoonInitScale,N.instance().towerShowEffect100[this.towerID]=1,cc.sys.localStorage.setItem(N.encode(productKey+"__towerShowEffect100"),N.encode(JSON.stringify(N.instance().towerShowEffect100)))}},getPoints:function(){for(var e=[],t=0,n=N.instance().towers[this.towerID][0].length-1;0<=n;n--){t++;var o=cc.v2(0,0),i=cc.v2(0,0);o.x=N.instance().towers[this.towerID][0][n][1],o.y=N.instance().towers[this.towerID][4]-N.instance().towers[this.towerID][0][n][2]-(0!=n?N.instance().towers[this.towerID][0][0][4]/2:0),n==N.instance().towers[this.towerID][0].length-1&&(o.y=0),3<=t&&(i.x=(o.x+e[e.length-1].x)/2,i.y=(o.y+e[e.length-1].y)/2,e.push(i)),0==n&&e.length%2==1&&(i.x=o.x,i.y=o.y-N.instance().towers[this.towerID][0][0][4]/2,e.push(i)),e.push(o)}return e},renderCompleteTower:function(){this.floors=this.node.getComponentsInChildren("floor"),this.towerNode=new cc.Node("towerComplete"),this.TouchNode=new cc.Node("towerTouch");var e,t=this.towerNode.addComponent(cc.Sprite),n=document.createElement("canvas"),o=n.getContext("2d");n.width=2*this.floors[0].getComponent(cc.Sprite).spriteFrame.getTexture()._image.width,n.height=this.getTowerHeight();for(var i=0,a=0,s=0,c=this.floors.length-1;0<=c;c--){a=(e=this.floors[c].getComponent(cc.Sprite).spriteFrame.getTexture()._image).height,s=e.width,o.drawImage(e,N.instance().towersDefault[this.towerID][0][c][1]+n.width/2-s/2,i);for(var r=0;r<this.floors[c].node.children.length;r++){var l=this.floors[c].node.children[r];if(0<l.children.length)for(var d=0;d<l.children.length;d++)e=l.children[d].getComponent(cc.Sprite).spriteFrame.getTexture()._image,o.save(),o.scale(l.children[d].scaleX<0?-1:1,l.children[d].scaleY<0?-1:1),o.drawImage(e,(N.instance().towersDefault[this.towerID][0][c][1]+n.width/2+l.children[d].x-l.children[d].width/2*Math.abs(l.children[d].scaleX)+l.x)*(l.children[d].scaleX<0?-1:1),(i+a/2-l.children[d].y-l.children[d].height/2*Math.abs(l.children[d].scaleY)+l.y)*(l.children[d].scaleY<0?-1:1),e.width*l.children[d].scaleX,e.height*l.children[d].scaleY),o.restore();else e=l.getComponent(cc.Sprite).spriteFrame.getTexture()._image,o.save(),o.scale(l.scaleX<0?-1:1,l.scaleY<0?-1:1),o.drawImage(e,(N.instance().towersDefault[this.towerID][0][c][1]+n.width/2+l.x-l.width/2)*(l.scaleX<0?-1:1),(i+a/2-l.y-l.height/2)*(l.scaleY<0?-1:1),e.width*l.scaleX,e.height*l.scaleY),o.restore()}i+=a,this.floors[c].node.active=!1}var h=document.createElement("canvas"),u=h.getContext("2d");h.width=n.width,h.height=n.height;for(var _=this.getPoints(),g=0;g<n.height;g++)u.drawImage(n,0,g,n.width,1,getQuadraticCurveNPoint(_,g).x,g,n.width,1);var m=new cc.Texture2D;m.initWithElement(h),m.handleLoadedTexture();var p=new cc.SpriteFrame(m,cc.Rect(0,0,m.width,m.height));if(t.spriteFrame=p,this.towerNode.parent=this.node,this.towerNode.x=this.floors[0].node.x,this.towerNode.y=this.floors[0].node.y-this.floors[0].node.height/2+m.height/2,this.TouchNode.parent=this.node,this.TouchNode.width=this.towerNode.width/2,this.TouchNode.height=this.towerNode.height,this.TouchNode.x=this.towerNode.x,this.TouchNode.y=this.towerNode.y,"TyCoon"==N.instance().currScene){var T=cc.instantiate(this.node.parent.getComponent("Towers").percentFit);T.getChildByName("percent").getComponent(cc.Label).string=I.t("main.STR_GAME_FIT").replace("%s",Math.round(N.instance().towers[this.towerID][2])),T.getChildByName("percent").active=!0,T.scale=1/N.instance().tycoonInitScale,this.node.addChild(T),T.x=this.towerNode.x,T.y=this.towerNode.y+this.towerNode.height/2+T.height}},renderLockTower:function(e,t){this.floors=this.node.getComponentsInChildren("floor");this.towerNode=new cc.Node("towerLock");var n=this.towerNode.addComponent(cc.Sprite),o=0!=this.towerID&&(N.instance().currPopulation+N.instance().interactivePopulation<N.instance().levelDesign[this.towerID-1][N.instance().POPULATION_UNLOCK]&&100!=N.instance().currTowerUnlocked);if(null!=N.instance().cacheFrame[this.towerID]&&(o&&N.instance().cacheFrame[this.towerID][1]))for(r=this.floors.length-1;0<=r;r--)this.floors[r].node.active=!1;else{var i,a=document.createElement("canvas"),s=a.getContext("2d");try{a.width=1*this.floors[0].getComponent(cc.Sprite).spriteFrame.getRect().width,a.height=1*this.getTowerHeight()}catch(e){}for(var c=0,r=this.floors.length-1;0<=r;r--)try{var l=this.floors[r].getComponent(cc.Sprite).spriteFrame;i=l.getTexture()._image,s.drawImage(i,l.getRect().x,l.getRect().y,l.getRect().width,l.getRect().height,1*(N.instance().towersDefault[this.towerID][y.TOWER_FLOOR_INFO][r][y.FLOOR_X]+a.width/2/1-l.getRect().width/2),c,1*l.getRect().width,1*l.getRect().height),c+=1*l.getRect().height,this.floors[r].node.active=!1}catch(e){}var d,h=s.getImageData(0,0,a.width,a.height),u=e.getR(),_=e.getG(),g=e.getB(),m=t.getR()-u,p=t.getG()-_,T=t.getB()-g;h.width;u<<=16,_<<=16,g<<=16,m=(m<<16)/(d=h.height-1)|0,p=(p<<16)/d|0,T=(T<<16)/d|0;for(var f=0;f<h.height;f++){for(var E=0;E<h.width;E++){var C=f*(4*h.width)+4*E;C+3!=0&&(h.data[C]=u>>16,h.data[C+1]=_>>16,h.data[C+2]=g>>16)}u+=m,_+=p,g+=T}s.putImageData(h,0,0);var S=new cc.Texture2D;S.initWithElement(a),S.handleLoadedTexture(),N.instance().cacheFrame[this.towerID]?N.instance().cacheFrame[this.towerID][0]=null:N.instance().cacheFrame[this.towerID]=[],N.instance().cacheFrame[this.towerID][0]=new cc.SpriteFrame(S,cc.Rect(0,0,S.width,S.height)),N.instance().cacheFrame[this.towerID][1]=o,console.log("cache log :"+this.towerID)}if(n.spriteFrame=N.instance().cacheFrame[this.towerID][0],this.towerNode.scale/=1,this.towerNode.parent=this.node,this.towerNode.x=this.floors[0].node.x,this.towerNode.y=this.floors[0].node.y-this.floors[0].node.height/2+n.spriteFrame.getOriginalSize().height/2/1,o)this.lockIcon=cc.instantiate(this.node.parent.getComponent("Towers").UI_Lock),this.towerNode.addChild(this.lockIcon),this.lockIcon.y=n.spriteFrame.getOriginalSize().height/2/1+this.node.parent.getComponent("Towers").lockIconOffY,this.lockIcon.getChildByName("txt_lock_popu_value").getComponent(cc.Label).string=N.instance().levelDesign[this.towerID-1][N.instance().POPULATION_UNLOCK];else{var w=cc.instantiate(this.node.parent.getComponent("Towers").unlock_construction);this.towerNode.addChild(w),w.y=-this.towerNode.height/2+w.height/2;var v=cc.instantiate(this.node.parent.getComponent("Towers").percentFit);v.getChildByName("percent").getComponent(cc.Label).string=I.t("main.STR_GAME_FIT").replace("%s",0),v.getChildByName("percent").active=!0,this.towerNode.addChild(v),v.scale=1/N.instance().tycoonInitScale,v.x=0,v.y=this.towerNode.height/2+v.height}},alignX:function(){for(var e=1;e<this.floors.length;e++)this.floors[e].getComponent("floor").node.x-=this.floors[0].getComponent("floor").node.x;this.floors[0].getComponent("floor").node.x=0;var t=N.instance().screenW/this.node.parent.getComponent("Towers").numTowerOnscreen;this.node.x=(t-t/2-N.instance().screenW/2+this.towerID*t)/N.instance().tycoonInitScale},cheatShowAll:function(){if(this.towerNode){this.towerNode.active=!1;for(var e=this.floors.length-1;0<=e;e--)this.floors[e].node.active=!0}},getInput:function(e){var t=this;if(this.specificNode)return this.node.destroy(),void(cc.find("Canvas/unlock_building_city").active=!1);if(!cc.find("Canvas/unlock_building_city").active){var n=this.node.convertTouchToNodeSpace(e),o=!1;if(this.towerNode)n.x>this.towerNode.x-this.towerNode.width/2&&n.x<this.towerNode.x+this.towerNode.width/2&&n.x>this.towerNode.y-this.towerNode.height/2&&n.y<this.towerNode.y+this.towerNode.height/2&&(o=!0);else for(var i=0;i<this.floors.length;i++)if(n.x>this.floors[i].node.x-this.floors[i].node.width/2&&n.x<this.floors[i].node.x+this.floors[i].node.width/2&&n.x>this.floors[i].node.y-this.floors[i].node.height/2&&n.y<this.floors[i].node.y+this.floors[i].node.height/2){o=!0;break}if(o&&(N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().levelDesign[0<=this.towerID-1?this.towerID-1:0][N.instance().POPULATION_UNLOCK]||100==N.instance().currTowerUnlocked||0==this.towerID)){if(N.isShowAds)return;"undefined"!=typeof gdsdk&&"undefined"!==gdsdk.showAd?(window.addEventListener("SDK_GAME_START",function(e){2==N.showAdsPlace&&null!=t.node&&(N.showAdsPlace=-1,N.isShowAds=!1,console.log(t.towerID),cc.director.getScene().getChildByName("Canvas").getChildByName("tutorial_board0").active=!1,v.default.instance.playEffect("sfx_select_house_"+Math.floor(3*Math.random()+1)),N.instance().currTower!=t.towerID&&(N.instance().retryCount=0),N.instance().currTower=t.towerID,N.instance().tutoSelectTower&&(N.instance().tutoSelectTower=!1,cc.sys.localStorage.setItem(N.encode(productKey+"__tutoSelectTower"),N.encode("1"))),cc.director.loadScene("game"),N.instance().inGameRetryCount=0)}),N.showAdsPlace=2,N.isShowAds=!0,v.default.instance.pauseAll(),gdsdk.showAd(),console.log("azerion show ad")):(console.log(this.towerID),cc.director.getScene().getChildByName("Canvas").getChildByName("tutorial_board0").active=!1,v.default.instance.playEffect("sfx_select_house_"+Math.floor(3*Math.random()+1)),N.instance().currTower!=this.towerID&&(N.instance().retryCount=0),N.instance().currTower=this.towerID,N.instance().tutoSelectTower&&(N.instance().tutoSelectTower=!1,cc.sys.localStorage.setItem(N.encode(productKey+"__tutoSelectTower"),N.encode("1"))),cc.director.loadScene("game"),N.instance().inGameRetryCount=0)}}},interactiveUnlock:function(){if(!this.unlocked&&N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().levelDesign[0<=this.towerID-1?this.towerID-1:0][N.instance().POPULATION_UNLOCK]){this.unlocked=!0,this.lockIcon.active=!1;var e=cc.instantiate(this.node);e.getComponent("Tower").specificNode=!0,e.parent=cc.find("Canvas/unlock_building_city/UI_win_unlock_board"),cc.find("Canvas/unlock_building_city").active=!0,N.instance().isLowDevice||this.renderLockTower(cc.hexToColor(this.unlocked?N.instance().towerUnlockStartColor:N.instance().towerLockStartColor),cc.hexToColor(this.unlocked?N.instance().towerUnlockEndColor:N.instance().towerLockEndColor)),N.instance().towerUnlock[this.towerID]=1,cc.sys.localStorage.setItem(N.encode(productKey+"__towerUnlock"),N.encode(JSON.stringify(N.instance().towerUnlock)))}},onDestroy:function(){S.default.instance.unregisterTarget(this)},onLoad:function(){if(this.blur=!1,"game"==N.instance().currScene)this.towerID=N.instance().currTower,this.groundY=-1e5,this.floors=[],this.numFloor=0,this.fallDownDist=0,this.lastLandedX=0,this.lastLandedHalfW=0,this.minPercent=100,this.totalPercentOff=0,this.lastMinPercent=0,this.lastTotalPercentOff=0,this.nextLandedY=0,this.combo=0,this.rewardCombo=0,this.fallDownDistRemain=0,this.timeFloor=this.node.parent.getComponent("Game").timeFloor,this.sfxPerfectCount=1,this.towerHeight=0,this.lastPercent=0,this.undoPerfectCount=0,this.node.parent.getComponent("Game").undoText.string="Perfect %s times\nto active".replace("%s",N.instance().numPerfectToUndo-this.undoPerfectCount),this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Sprite).spriteFrame=this.node.parent.getComponent("Game").undoFrame[N.instance().tutoUndo?1:0],this.node.parent.getComponent("Game").undoBtn.getComponent(cc.Button).interactable=!0,this.node.parent.getComponent("Game").undoText.node.active=!1,this.gameLose=!1,this.endFloor=!1,this.platformSpeed=1.5,this.platform=this.node.parent.getComponent("Game").platform,this.rope=this.node.parent.getComponent("Game").rope,this.tutoUndo=!1,this.removeFloor=[],this.totalPerfect=0,this.totalUndo=0,this.node.parent.getComponent("Game").ground.getComponent("cc.PhysicsBoxCollider").offset.y+=this.groundOffY,this.showTarget=!0,N.instance().towers[this.towerID]&&1==N.instance().towers[this.towerID][y.TOWER_TARGET_PASS]&&(this.showTarget=!1,cc.find("Canvas/target").active=!1),this.towerMaxY+=0,this.spawnFloor(),0<N.instance().levelDesign[N.instance().currTower][2]&&S.default.instance.registerOnce(w.default.GAME_TIME_OUT,this.loseGame,this);else if("TyCoon"==N.instance().currScene)try{if(S.default.instance.register(w.default.TYCOON_INTERACTIVE_CLICK,this.interactiveUnlock,this),this.firstFloorH=0,this.floors=this.node.getComponentsInChildren("floor"),this.unlocked=!0,this.lockIcon=null,0==this.towerID&&N.instance().tutoSelectTower){var e=cc.director.getScene().getChildByName("Canvas").getChildByName("tuto_anim");cc.director.getScene().getChildByName("Canvas").getChildByName("tutorial_board0").active=!0,e.parent=this.node,e.zIndex=100,e.scale=e.scale/N.instance().tycoonInitScale*.65,e.active=!0}if(this.bottomY=this.floors[0].getComponent("floor").node.y-this.floors[0].getComponent("floor").node.height/2,1==N.instance().fitTowerY){this.floors[0].getComponent("floor").floorID=0;for(var t=1;t<this.floors.length;t++)this.floors[t].getComponent("floor").floorID=t,this.floors[t].getComponent("floor").node.y=this.floors[t-1].getComponent("floor").node.y+this.floors[t-1].getComponent("floor").node.height/2+this.floors[t].getComponent("floor").node.height/2}if(!this.specificNode){if(N.instance().isLowDevice)if(void 0!==N.instance().towers[this.towerID])this.renderTower(N.instance().towers[this.towerID],this.floors[0].getComponent("floor").node.x,this.floors[0].getComponent("floor").node.y),this.node.opacity=255;else if(this.blur=!0,this.node.opacity=N.instance().lockedTowerOpacity,this.unlocked=0==this.towerID||(N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().levelDesign[this.towerID-1][N.instance().POPULATION_UNLOCK]||100==N.instance().currTowerUnlocked),this.unlocked){var n=cc.instantiate(this.node.parent.getComponent("Towers").unlock_construction);this.node.addChild(n),n.x=this.floors[0].getComponent("floor").node.x,n.y=this.floors[0].getComponent("floor").node.y-this.floors[0].getComponent("floor").node.height/2+n.height/2}else this.lockIcon=cc.instantiate(this.node.parent.getComponent("Towers").UI_Lock),this.node.addChild(this.lockIcon),this.lockIcon.x=this.floors[Math.floor(this.floors.length/2)].getComponent("floor").node.x,this.lockIcon.y=this.floors[Math.floor(this.floors.length/2)].getComponent("floor").node.y,this.lockIcon.getChildByName("txt_lock_popu_value").getComponent(cc.Label).string=N.instance().levelDesign[this.towerID-1][N.instance().POPULATION_UNLOCK];this.towerID,N.instance().currTowerUnlocked}S.default.instance.register(w.default.TYCOON_TOUCH_END,this.getInput,this)}catch(e){}1==this.autoAlignX&&this.alignX()},start:function(){if(this.specificNode)try{this.node.x=0,this.node.getChildByName("towerLock").active=!1;for(var e=1;e<this.floors.length;e++)this.floors[e].getComponent("floor").node.active=!0,this.floors[e].getComponent("floor").node.y-=this.floors[0].getComponent("floor").node.y-this.floors[0].getComponent("floor").node.height/2,this.floors[e].getComponent("floor").node.x-=this.floors[0].getComponent("floor").node.x;this.floors[0].getComponent("floor").node.active=!0,this.floors[0].getComponent("floor").node.y=this.floors[0].getComponent("floor").node.height/2,this.floors[0].getComponent("floor").node.x=0,this.node.y=-cc.find("Canvas/unlock_building_city/UI_win_unlock_board").height/2,this.node.scale=cc.find("Canvas/unlock_building_city/UI_win_unlock_board").height/this.getTowerHeight(),cc.find("Canvas/unlock_building_city/txt_unlock_name").getComponent(cc.Label).string=I.t("main.name_residence_"+(this.towerID+1))}catch(e){}else if(!N.instance().isLowDevice&&"TyCoon"==N.instance().currScene)if(null!=N.instance().towers[this.towerID])try{0==N.instance().curveTower||100==N.instance().towers[this.towerID][2]?this.renderTower(N.instance().towers[this.towerID],this.floors[0].getComponent("floor").node.x,this.floors[0].getComponent("floor").node.y):this.renderCompleteTower(),this.node.opacity=255,N.instance().cacheFrame[this.towerID]&&(N.instance().cacheFrame[this.towerID][0]=null)}catch(e){}else try{this.blur=!0,this.node.opacity=N.instance().lockedTowerOpacity,this.unlocked=0==this.towerID||(N.instance().currPopulation+N.instance().interactivePopulation>=N.instance().levelDesign[this.towerID-1][N.instance().POPULATION_UNLOCK]||100==N.instance().currTowerUnlocked),this.towerID<=N.instance().currTower+2?this.renderLockTower(cc.hexToColor(this.unlocked?N.instance().towerUnlockStartColor:N.instance().towerLockStartColor),cc.hexToColor(this.unlocked?N.instance().towerUnlockEndColor:N.instance().towerLockEndColor)):this.scheduleOnce(function(){this.renderLockTower(cc.hexToColor(this.unlocked?N.instance().towerUnlockStartColor:N.instance().towerLockStartColor),cc.hexToColor(this.unlocked?N.instance().towerUnlockEndColor:N.instance().towerLockEndColor))},.1*(this.towerID-N.instance().currTower-2))}catch(e){}},next:function(){v.default.instance.playEffect("sfx_select_house_"+Math.floor(3*Math.random()+1)),N.instance().retryCount=0,N.instance().currTower=this.towerID,cc.director.loadScene("game")},update:function(e){var n=this;if("game"==N.instance().currScene){if(0<this.floors.length&&void 0!==this.floors[this.numFloor]&&this.floors[this.numFloor].getComponent("floor").callBackFallAct&&this.floors[this.numFloor].getComponent("floor").callBackFallAct.isDone())if(0==this.numFloor)if(this.floors[this.numFloor].getComponent("floor").moveState=3,this.floors[this.numFloor].getComponent("floor").landed=!0,this.lastLandedX=this.floors[this.numFloor].getComponent("floor").node.x,this.lastLandedHalfW=this.floors[this.numFloor].getComponent("floor").node.width/2,this.nextLandedY+=this.floors[this.numFloor].getComponent("floor").node.height,this.towerHeight+=this.floors[this.numFloor].getComponent("floor").node.height,this.numFloor++,this.showTarget){for(var o=cc.find("Canvas/target"),t=N.instance().currPopulation=0;t<N.instance().towers.length;t++)this.towerID!=t&&N.instance().towers[t]&&(N.instance().currPopulation+=N.instance().towers[t][y.TOWER_POPULATION]);for(var i=this.towerID,a=this.towerID+1;a<N.instance().towerUnlock.length;a++)if(0==N.instance().towerUnlock[a]){i=a;break}var s=Math.floor((N.instance().levelDesign[i-1][N.instance().POPULATION_UNLOCK]-N.instance().currPopulation-N.instance().interactivePopulation)/N.instance().levelDesign[this.towerID][N.instance().RATIO_FIT]);o.getChildByName("txt_objective_percent").getComponent(cc.Label).string=I.t("main.objective_percent").replace("%s",s>N.instance().losePercent?s:N.instance().losePercent),o.getChildByName("txt_boss_target").active=!1,o.getChildByName("txt_boss_target2").active=!1,(this.towerID+1)%4==0&&(0<y.BOSS_LEVEL_PARAM[this.towerID+1]&&(o.getChildByName("txt_boss_target").getComponent(cc.Label).string=I.t("main.objective_1").replace("%s",y.BOSS_LEVEL_PARAM[this.towerID+1]),o.getChildByName("txt_boss_target").active=!0),0<N.instance().levelDesign[N.instance().currTower][2]&&(o.getChildByName("txt_boss_target2").active=!0,o.getChildByName("txt_boss_target2").getComponent(cc.Label).string=I.t("main.objective_time").replace("%s",N.instance().levelDesign[N.instance().currTower][2]))),this.touchEvent=cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){cc.eventManager.removeListener(n.touchEvent),o.active&&(o.active=!1,n.spawnFloor())}},this.node),this.scheduleOnce(function(){o.active&&(o.active=!1,this.spawnFloor())},3)}else this.spawnFloor();else S.default.instance.dispatch(w.default.GAME_LOSE);this.endFloor&&this.numFloor==N.instance().towersDefault[N.instance().currTower][0].length-1&&this.floors[this.numFloor].getComponent(cc.RigidBody)&&(this.rope.height=cc.pDistance(this.platform.getComponent(cc.RigidBody).getWorldPosition(),this.floors[this.numFloor].getComponent(cc.RigidBody).getWorldPosition()),this.rope.rotation=(this.platform.x<this.floors[this.numFloor].x?-1:1)*window.find_angle_Degrees(this.platform.getComponent(cc.RigidBody).getWorldPosition(),cc.p(this.platform.getComponent(cc.RigidBody).getWorldPosition().x,this.platform.getComponent(cc.RigidBody).getWorldPosition().y+50),cc.p(this.floors[this.numFloor].getComponent(cc.RigidBody).getWorldPosition().x,this.floors[this.numFloor].getComponent(cc.RigidBody).getWorldPosition().y+this.floors[this.numFloor].height/2)),this.rope.height>1.5*this.platform.getComponent(cc.RopeJoint).maxLength&&(this.rope.height=this.platform.getComponent(cc.RopeJoint).maxLength,this.rope.runAction(cc.rotateTo(1,0)),this.platform.runAction(cc.moveBy(2,0,2*this.platform.getComponent(cc.RopeJoint).maxLength))))}if(0<this.fallDownDistRemain&&!this.gameLose){var c=this.fallDownSpeed*e/.016;c=this.fallDownDistRemain>c?c:this.fallDownDistRemain,this.fallDownDistRemain-=c,this.node.y-=c,this.node.parent.getComponent("Game").ground.y-=c}}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],TyCoon:[function(e,t,n){"use strict";cc._RF.push(t,"b4631SUwOtDjZh2ixtLKKi5","TyCoon");var o=e("Global"),i=e("EventManager"),a=e("GameMessage"),s=e("SoundManager"),c=(e("i18n"),e("Define"));cc.Class({extends:cc.Component,properties:{ground:{default:null,type:cc.Node},towers:{default:null,type:cc.Node},unlockAll:{default:null,type:cc.Label},tutoAnim:{default:null,type:cc.Node},achivementBoard:{default:null,type:cc.Node},achivementList:{default:null,type:cc.Node},interactive_citizen_get:{default:null,type:cc.Prefab},achivementFrame:{default:[],type:[cc.SpriteFrame]}},setUnlockAll:function(){o.instance().currTowerUnlocked=100;for(var e=0;e<this.towers.getComponent("Towers").towers.length;e++)this.towers.getComponent("Towers").towers[e].node.active=!0,this.towers.getComponent("Towers").towers[e].getComponent("Tower").cheatShowAll(),e==this.towers.getComponent("Towers").towers.length-1&&(this.towers.getComponent("Towers").boundRight-=(this.towers.getComponent("Towers").towers[e].node.x+this.towers.getComponent("Towers").towers[e].getComponent("Tower").floors[0].node.x)*o.instance().tycoonInitScale);for(var t=0;t<o.instance().achievementState.length;t++)o.instance().achievementState[t]=3;for(t=0;t<this.achivement.length;t++)this.achivement[t].node.active=!0},goMM:function(){o.instance().currScene="Main_Menu",cc.director.resume(),cc.director.loadScene("Main_Menu")},onAchiClick:function(){o.instance().tutoSelectTower||(this.achivementList.active=!0)},updateUI:function(e,t,n){var o=cc.instantiate(this.interactive_citizen_get);this.node.addChild(o),o.x=t,o.y=n,o.getChildByName("txt_citizen_get").getComponent(cc.Label).string="+"+e,o.runAction(cc.moveTo(1,cc.p(this.totalPopuTxt.x,this.totalPopuTxt.y))),this.scheduleOnce(function(){o.destroy()},1)},updateNotify:function(){for(var e=0;e<o.instance().achievementState.length;e++)if(o.instance().achievementState[e]==c.ACHIEVEMENT_STATE_GET_UNLOCK||o.instance().achievementState[e]==c.ACHIEVEMENT_STATE_SHOW_UNLOCK)return!0;return!1},onDestroy:function(){i.default.instance.unregisterTarget(this)},onLoad:function(){var n=this;this.citiTime=0,this.achivementMoveOut=cc.moveBy(1,0,2*this.achivementBoard.height),this.achivementMoveIn=cc.moveBy(1,0,2*-this.achivementBoard.height),this.isAchivementBoardMoveOut=!1,this.achivementBoard.active=!1,this.showAchivementID=0,this.initGroundY=this.ground.y,o.instance().currScene="TyCoon",this.showTowerMax=0,this.showTowerIndex=0,this.isIntouch1=!1,this.isIntouch2=!1,this.touch1PosStart,this.touch2PosStart,this.touch1PosCurr,this.touch2PosCurr,this.lastTowersX=0,this.touchDragOff=0,this.touch1ID=0,this.touch2ID=0,this.isIntouchAction=!1;try{this.totalPopuTxt=this.node.getChildByName("txt_population_total"),this.totalPopuTxt.getComponent(cc.Label).string=o.instance().currPopulation+o.instance().interactivePopulation,s.default.instance.stop("m_BGM"),0==s.default.instance.isPlaying("m_menu")&&s.default.instance.playMusic("m_menu",!0);for(var e=o.instance().currPopulation=0;e<o.instance().towers.length;e++)this.towerID!=e&&o.instance().towers[e]&&(o.instance().currPopulation+=o.instance().towers[e][c.TOWER_POPULATION]);this.achivement=this.node.getComponentsInChildren("Achievement");for(e=0;e<this.achivement.length;e++)this.achivement[e].node.active=!0,o.instance().achievementState[this.achivement[e].getComponent("Achievement").ID]==c.ACHIEVEMENT_STATE_UNLOCKED?this.achivement[e].node.active=!0:this.achivement[e].node.active=!1;this.achiev_noti=cc.find("Canvas/UI_achiev_noti"),this.achiev_noti.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.2,cc.p(0,this.achiev_noti.height/2)),cc.moveBy(.2,cc.p(0,-this.achiev_noti.height/2))))),this.achiev_noti.active=this.updateNotify(),this.lockDrag=o.instance().tutoSelectTower,this.tutoAnim.active=!1,this.node.getChildByName("tutorial_board0").active=!1}catch(e){}this.node.on(cc.Node.EventType.TOUCH_START,function(e){n.touch1ID==e.getID()&&(n.isIntouch1=!1),n.isIntouch1?(n.isIntouch2=!0,n.touch2ID=e.getID(),n.touch2PosStart=e.getLocation(),n.touch2PosCurr=n.touch2PosStart):(n.isIntouch1=!0,n.touch1ID=e.getID(),n.touch1PosStart=e.getLocation(),n.touch1PosCurr=n.touch1PosStart)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){var t=!1;1==n.isIntouch1&&1==n.isIntouch2?t=!0:n.touchDragOff=0,e.getID()==n.touch1ID&&(n.isIntouch1=!1,n.touch1PosStart=e.getLocation(),t&&(n.touchDragOff=n.touch2PosCurr.x-n.touch2PosStart.x)),e.getID()==n.touch2ID&&(n.isIntouch2=!1,t&&(n.touchDragOff=n.touch1PosCurr.x-n.touch1PosStart.x)),0==n.isIntouchAction?n.achivementList.active||i.default.instance.dispatch(a.default.TYCOON_TOUCH_END,e):n.scheduleOnce(function(){this.isIntouchAction=!1},.2)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){e.getID()==n.touch1ID&&(n.touch1PosCurr=e.getLocation()),e.getID()==n.touch2ID&&(n.touch2PosCurr=e.getLocation()),n.isIntouch1&&n.isIntouch2||(n.lockDrag||(n.towers.getComponent("Towers").node.x=n.lastTowersX+(n.isIntouch1?n.touch1PosCurr.x-n.touch1PosStart.x-n.touchDragOff:n.touch2PosCurr.x-n.touch2PosStart.x-n.touchDragOff)),10<Math.abs(n.towers.getComponent("Towers").node.x-n.lastTowersX)&&(n.isIntouchAction=!0))})},showAchievement:function(e){for(var t=0;t<this.achivement.length;t++)this.achivement[t].getComponent("Achievement").ID==e&&(o.instance().achievementState[e]=c.ACHIEVEMENT_STATE_CLAIM,this.achivement[t].node.active=!0);this.achiev_noti.active=this.updateNotify()},start:function(){try{this.showTowerMax=this.towers.getComponent("Towers").towers.length-this.towers.getComponent("Towers").numTowerOnscreen,this.showTowerIndex=o.instance().currTower<=this.showTowerMax?o.instance().currTower:this.showTowerMax,this.towers.getComponent("Towers").node.scale=o.instance().tycoonInitScale,this.lastScale=o.instance().tycoonInitScale,o.instance().firstEnterCity&&(o.instance().firstEnterCity=!1),splash.style.display="none"}catch(e){}i.default.instance.register(a.default.TYCOON_INTERACTIVE_CLICK,this.updateUI,this),i.default.instance.register(a.default.TYCOON_SHOW_ACHIEVEMENT,this.showAchievement,this)},update:function(e){1==this.isIntouch1&&1==this.isIntouch2?(this.towers.getComponent("Towers").node.scale=cc.pDistance(this.touch1PosCurr,this.touch2PosCurr)/cc.pDistance(this.touch1PosStart,this.touch2PosStart)*this.lastScale,this.towers.getComponent("Towers").node.scale<o.instance().tycoonMinScale&&(this.towers.getComponent("Towers").node.scale=o.instance().tycoonMinScale),this.towers.getComponent("Towers").node.scale>o.instance().tycoonMaxScale&&(this.towers.getComponent("Towers").node.scale=o.instance().tycoonMaxScale),this.towers.getComponent("Towers").node.y=this.towers.getComponent("Towers").initY-(this.towers.getComponent("Towers").bottomY+(this.towers.getComponent("Towers").node.scale-1)*this.towers.getComponent("Towers").bottomY-(this.ground.y+this.ground.height/2-(this.initGroundY+this.ground.height/2-this.towers.getComponent("Towers").bottomY))),this.isIntouchAction=!0):(this.lastScale=this.towers.getComponent("Towers").node.scale,this.towers.getComponent("Towers").node.y=this.towers.getComponent("Towers").initY-(this.towers.getComponent("Towers").bottomY+(this.towers.getComponent("Towers").node.scale-1)*this.towers.getComponent("Towers").bottomY-(this.ground.y+this.ground.height/2-(this.initGroundY+this.ground.height/2-this.towers.getComponent("Towers").bottomY))),0==this.isIntouch1&&0==this.isIntouch2&&(this.lastTowersX=this.towers.getComponent("Towers").node.x)),this.totalPopuTxt.getComponent(cc.Label).string=o.instance().currPopulation+o.instance().interactivePopulation,enableADS&&"none"==adsContainer.style.display&&(this.citiTime+=e,this.citiTime>=c.TYCOON_SHOW_ADS_TIME&&(this.citiTime=0,playAds()))}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager",i18n:"i18n"}],TycoonUnlock:[function(e,t,n){"use strict";cc._RF.push(t,"59e1aW9V/dCVaFaM1aRQZbK","TycoonUnlock"),cc.Class({extends:cc.Component,properties:{},next:function(){this.node.children[0].getComponent("Tower").next()},start:function(){}}),cc._RF.pop()},{}],WrapTo:[function(e,t,n){"use strict";cc._RF.push(t,"84f9aTCovJCALdiVcNzQtK1","WrapTo"),cc.Class({extends:cc.Component,properties:{startX:-384,endX:1e3,speed:5},start:function(){},update:function(e){this.node.x+=this.speed,this.node.x>this.endX+this.node.width/2&&0<this.speed&&(this.node.x=this.startX-this.node.width/2),this.node.x<this.startX-this.node.width/2&&this.speed<0&&(this.node.x=this.endX+this.node.width/2)}}),cc._RF.pop()},{}],br:[function(e,t,n){"use strict";cc._RF.push(t,"3a307rG98xBKrVGQJhfayG5","br"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.br={main:{STR_GAME_FIT:"%s%",loading:"CARREGANDO. FAVOR AGUARDAR...",city_intro:"Vamos construir a sua cidade!",tuto_percent:"Porcentagem de precisão.\nQuanto mais precisão ao empilhar, mais cidadãos você terá.",tuto_stack:"Tente empilhar no meio do bloco anterior.",completed:"CONCLUÍDO!",tuto_citizen:"Quanto mais você empilhar com precisão, mais cidadãos você terá.",tuto_unlock:"Tenha cidadãos o suficiente para desbloquear novos prédios.",STR_GAME_PERFECT:"Perfeito!",STR_GAME_UNSTABLE:"Prédio instável!",STR_SETTINGS_RESUME:"CONTINUAR",STR_SETTINGS_SOUND_ON:"SOM: LIG.",STR_SETTINGS_SOUND_OFF:"SOM: DESL.",STR_SETTINGS_LANGUAGE:"IDIOMAS",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"CRÉDITOS",STR_SETTINGS_QUIT:"MENU PRINCIPAL",STR_SETTINGS_LUDIGAMES:"MAIS JOGOS",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Melhore sua porcentagem de precisão para ter mais cidadãos.",lose_target:"Objetivo:",lose_tryagain:"VAMOS TENTAR NOVAMENTE!",name_residence_1:"CASA",name_residence_2:"LANCHONETE",name_residence_3:"MUSEU",name_residence_4:"TORRE VINTAGE",name_residence_5:"RESIDÊNCIA",name_residence_6:"PADARIA",name_residence_7:"ESCOLA",name_residence_8:"TEMPLO ANTIGO",name_residence_9:"VILA",name_residence_10:"FLORICULTURA",name_residence_11:"CORREIO",name_residence_12:"ARRANHA-CÉU VERDE",name_residence_13:"APARTAMENTO",name_residence_14:"HOTEL",name_residence_15:"TEATRO",name_residence_16:"TORRES DUPLAS",name_residence_17:"DORMITÓRIO",name_residence_18:"HOSPITAL",name_residence_19:"PREFEITURA",name_residence_20:"O ÚLTIMO MONUMENTO",STR_ACHIEVEMENT_TITLE:"CONQUISTA DESBLOQUEADA!",STR_ACHIEVEMENT_1:"Termine o tutorial.",STR_ACHIEVEMENT_2:"Desbloqueie 2 prédios.",STR_ACHIEVEMENT_3:"Complete 3 prédios com mais de 80% de precisão.",STR_ACHIEVEMENT_4:"Desbloqueie 4 prédios.",STR_ACHIEVEMENT_5:"Tenha 100 cidadãos.",STR_ACHIEVEMENT_6:"Complete 7 prédios com mais de 70% de precisão.",STR_ACHIEVEMENT_7:"Desbloqueie 8 prédios.",STR_ACHIEVEMENT_8:"Complete 10 prédios com mais de 60% de precisão.",STR_ACHIEVEMENT_9:"Tenha 300 cidadãos.",STR_ACHIEVEMENT_10:"Desbloqueie 12 prédios.",STR_ACHIEVEMENT_11:"Desbloqueie 15 prédios.",STR_ACHIEVEMENT_12:"Tenha 600 cidadãos.",STR_ACHIEVEMENT_13:"Desbloqueie 20 prédios.",loading_1:"Trazendo os blocos...",loading_2:"Dirigindo o caminhão...",loading_3:"Construindo os quartos...",loading_4:"Pintando as paredes...",loading_5:"Instalando portas e janelas...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"IDIOMAS",retry_congrat:"Você está melhorando!",unlock_title:"Eba! Você desbloqueou:",tuto_undo:"Desfazer bloco anterior.\nAtive empilhando perfeitamente 3 vezes.",achievement_title:"CONQUISTAS",achievement_unlock:"CONQUISTA DESBLOQUEADA!",btn_claim:"OBTER",retry_bad:"Oops!",time_out:"Seu tempo acabou.",tip_rebuild:"Dica: você pode tentar reconstruir outros prédios na cidade.",objective_time:"Limite de tempo: %s s",objective_percent:"Obtenha pelo menos: %s% ",objective_title:"OBJETIVOS",congrats_all:"PARABÉNS!",congrats_playing:"Você desbloqueou todos os prédios!\nContinue jogando para deixar sua cidade ainda melhor!",addtohs:"Adicionar à Home",addtohs_title:"CURTINDO O JOGO? ADICIONE-O À TELA INICIAL! ",STR_CREDITS_CONTENT:"Gameloft\nEquipe de Criação do Estúdio SA1\n\nGerência de Estúdio\nPhùng Việt Hưng\n\nLiderança de Produção\nNguyễn Việt Cường\n\nProdução\nNguyễn Hoài Nam\n\nLiderança de Design do Jogo\nNguyễn Quốc Đông\n\nDesign de Jogo\nHuỳnh Châu Đoan\n\nLiderança de Programação\nNguyễn Nguyên Vũ\n\nProgramação\nĐào Ngọc Hoàng\n\nLiderança de Arte do Estúdio\nCesar Garcia\n\nArte\nTrần Thị Mai Trang\nVi Hồng Luân\n\nControle de Qualidade\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nDireção de Áudio\nJorge Peirano\n\nGerência de Áudio\nUlrich Frantz\n\nMúsica\nDenis Vachon\n\nDesign de Som\nEric Andrianarivony\n\nEquipe Comercial\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nEste Software de Fonte é licenciado por SIL Open Font License, Versão 1.1.\nEsta licença está copiada abaixo e também está disponível com as perguntas mais frequentes (FAQ) em:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],"button-scaler":[function(e,t,n){"use strict";cc._RF.push(t,"780ca2tni1EHKNcLHBQ+sFC","button-scaler"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pressedScale=.8,e.transDuration=.1,e}return __extends(e,t),e.prototype.onLoad=function(){this.initScale=this.node.scale,this.button=this.getComponent(cc.Button),this.scaleDownAction=cc.scaleTo(this.transDuration,this.pressedScale),this.scaleUpAction=cc.scaleTo(this.transDuration,this.initScale),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchDown,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchUp,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchUp,this)},e.prototype.onTouchDown=function(){this.node.stopAllActions(),this.node.runAction(this.scaleDownAction)},e.prototype.onTouchUp=function(){this.node.stopAllActions(),this.node.runAction(this.scaleUpAction)},__decorate([a()],e.prototype,"pressedScale",void 0),__decorate([a()],e.prototype,"transDuration",void 0),e=__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],cc_spriter_component:[function(e,t,n){"use strict";cc._RF.push(t,"a9f7bH2pF1J2bVKEFYx0A8b","cc_spriter_component"),window.sconLinks={},window.sconLinks_loaded={},cc.Class({extends:cc.Sprite,properties:{_ready:!1,sconPath:"",entity:"",animation:"",_loop:!0,timeStep:0},onLoad:function(){var n=this;this.pose={},this._sconPath="",this._ready=!1,this.sprites=[],this.timeStep=1e3*cc.director.getAnimationInterval(),this._sconLink=this.sconPath,this._sconPath=this._getSconPath(this.sconPath),this.animations_length=1,this._preload(function(e){if(e.error)throw e.error;n._ready=!0,n._initSpriteFrames(),n.setEntity(n.entity);var t=n.animation.split(",");n.setAnims(t[0],t[1],t[2])})},update:function(){if(this._ready){this._hideAllSprites(),this.pose.updates(this.timeStep,this.timeStep);for(var e=1;e<=this.animations_length;e++)this.pose.strike(e),this._updateSpriteFrames(this._getObjectArraySprites());this._loop||this.compareFinishAnimation()}},compareFinishAnimation:function(){var e=this.pose.getTime(0);e>this._currentAnimationTime?this._currentAnimationTime=e:this.stopAnimation()},stopAnimation:function(){this.pose.setTimes(0),this._animationFinish=!0,this.pause()},setLoop:function(e){this._animationFinish=!1,e?this._loop=!0:(this._loop=!1,this._currentAnimationTime=0),this.resume()},setEntity:function(e){""!==e&&(this.entity=e,this._ready&&this.pose.setEntity(e))},setAnims:function(){var e=arguments[0];if(""!==e){this.animation=e;for(var t=1,n=1;arguments.length,""!==arguments[n]&&void 0!==arguments[n];n++)this.animation+=","+arguments[n],t++;this.animations_length=t,this._ready&&this.pose.setAnims(arguments[0],arguments[1],arguments[2])}},_preload:function(r){var o=this;if(this._ready)return r({error:"Resource already done"});var i=this,t=function(e,t){if(e)return r({error:e});t=void 0!==t.length?JSON.parse(t):window.sconLinks[i._sconLink],window.sconLinks[i._sconLink]=t,window.sconLinks_loaded[i._sconLink]=!0;var c=0,n=(new spriter.Data).load(t);o.pose=new spriter.Pose(n),t.folder.forEach(function(e){return e.file.forEach(function(){return++c})}),n.folder_array.forEach(function(e){e.file_array.forEach(function(a){switch(a.type){case"image":var s=i._sconPath.replace("resources/","")+a.name,e=i._sconPath+a.name;cc.loader.load(cc.url.raw(e),function(e,t){if(e)return r({error:e});var n=cc.SpriteFrameCache.getInstance();if(!n.getSpriteFrame(s)){var o=cc.rect(0,0,a.width,a.height),i=new cc.SpriteFrame(t,o);n.addSpriteFrame(i,s)}return 0==--c?r({error:!1}):void 0});break;default:cc.warn("not load",a.type,a.name)}})})};if(void 0===window.sconLinks_loaded[this._sconLink])window.sconLinks_loaded[this._sconLink]=!1,cc.loader.load(cc.url.raw(this._sconLink),t);else{var n=this;setTimeout(function e(){window.sconLinks_loaded[n._sconLink]?t(!1,window.sconLinks[n._sconLink]):setTimeout(e,1)},1)}},_getSconPath:function(e){return e.replace(/\w+.scon$/,"")},_getObjectArraySprites:function(){var i=this;return this.pose.object_array.map(function(e){if("sprite"===e.type){var t=i.pose.data.folder_array[e.folder_index],n=t.file_array[e.file_index],o=i._sconPath.replace("resources/","")+n.name;return{file:n,imageKey:o,folder:t,object:e,spriteFrame:cc.SpriteFrameCache.getInstance().getSpriteFrame(o)}}})},_initSpriteFrames:function(){var a=this;this._getObjectArraySprites().forEach(function(e,t){e.myIndex=t;var n=e.object.world_space,o=new cc.Node;o.addComponent(cc.Sprite);var i=o.getComponent(cc.Sprite);i.spriteFrame=e.spriteFrame,a._updateSprite(i,n,e),a.sprites.push(i),a.node.addChild(o)})},_updateSprite:function(e,t,n){e.node.setName(n.imageKey.substr(n.imageKey.lastIndexOf("/")+1)),e.node.opacity=255*n.object.alpha,e.node.x=t.position.x,e.node.y=t.position.y,e.node.scaleX=t.scale.x,e.node.scaleY=t.scale.y,e.node.rotation=-t.rotation.deg,e.myFile=n.file,e.myFolder=n.folder,e.myIndex=n.myIndex},_findSpriteByObject:function(e){for(var t=0,n=this.sprites.length;t<n;t++){var o=this.sprites[t];if(Object.is(e.file,o.myFile)&&Object.is(e.folder,o.myFolder)&&Object.is(e.myIndex,o.myIndex))return o}},_hideAllSprites:function(){for(var e=0,t=this.sprites.length;e<t;e++)this.sprites[e].node.opacity=0},_updateSpriteFrames:function(e){for(var t=void 0,n=void 0,o=void 0,i=0,a=e.length;i<a;i++){if((t=e[i]).myIndex=i,n=t.object.world_space,!(o=this._findSpriteByObject(t))){var s=new cc.Node;s.addComponent(cc.Sprite),(o=s.getComponent(cc.Sprite)).spriteFrame=t.spriteFrame,this.sprites.push(o),this.node.addChild(s)}this._updateSprite(o,n,t),o.node.zIndex=i}}}),cc._RF.pop()},{}],"credit-handle":[function(e,t,n){"use strict";cc._RF.push(t,"2b0ac4vtzhHHLD52aARZZne","credit-handle"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollSpeed=3,e.contentLength=0,e.posYStartScroll=0,e.delta=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.node.getChildByName("content").getComponent("LabelLocalized").textKey="main.STR_CREDITS_CONTENT",this.contentLength=this.node.getChildByName("content").height,cc.log("Content height is: "+this.contentLength),this.posContent=this.node.getChildByName("content").getPosition(),this.posYStartScroll=this.posContent.y-this.contentLength/2,this.maskPos=this.node.getPosition(),this.node.getChildByName("content").setPosition(this.posContent.x,this.posContent.y-this.contentLength/2)},e.prototype.onEnable=function(){this.delta=0},e.prototype.start=function(){},e.prototype.update=function(e){this.delta++;var t=this.posYStartScroll+this.scrollSpeed*this.delta;t>this.posYStartScroll+this.contentLength+this.contentLength/2-5&&(this.delta=0),this.node.getChildByName("content").setPosition(this.posContent.x,t)},__decorate([a()],e.prototype,"scrollSpeed",void 0),e=__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],de:[function(e,t,n){"use strict";cc._RF.push(t,"bf2f5XVFotJ36iv8gPY0OhG","de"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.de={main:{STR_GAME_FIT:"%s%",loading:"LÄDT. BITTE WARTEN...",city_intro:"Baue deine Stadt!",tuto_percent:"Genauigkeit (%).\nJe genauer dein Stapel ist, desto mehr Einwohner erhältst du.",tuto_stack:"Versuche, ihn in der Mitte über den vorherigen Block zu platzieren.",completed:"BEENDET!",tuto_citizen:"Je genauer dein Stapel ist, desto mehr Einwohner erhältst du.",tuto_unlock:"Erhalte genügend Einwohner, um neue Gebäude zu aktivieren.",STR_GAME_PERFECT:"Perfekt!",STR_GAME_UNSTABLE:"Instabiles Gebäude!",STR_SETTINGS_RESUME:"WEITER",STR_SETTINGS_SOUND_ON:"SOUND: AN",STR_SETTINGS_SOUND_OFF:"SOUND: AUS",STR_SETTINGS_LANGUAGE:"SPRACHEN",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"MITWIRKENDE",STR_SETTINGS_QUIT:"HAUPTMENÜ",STR_SETTINGS_LUDIGAMES:"MEHR SPIELE",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Erziele eine bessere Genauigkeit (%), um mehr Einwohner zu haben.",lose_target:"Ziel:",lose_tryagain:"ERNEUT VERSUCHEN!",name_residence_1:"HAUS",name_residence_2:"COFFEE-SHOP",name_residence_3:"MUSEUM",name_residence_4:"ALTER TURM",name_residence_5:"RESIDENZ",name_residence_6:"BÄCKEREI",name_residence_7:"SCHULE",name_residence_8:"ANTIKER TEMPEL",name_residence_9:"VILLA",name_residence_10:"BLUMENLADEN",name_residence_11:"POSTAMT",name_residence_12:"GRÜNER WOLKENKRATZER",name_residence_13:"APARTMENT",name_residence_14:"HOTEL",name_residence_15:"THEATER",name_residence_16:"DOPPELTURM",name_residence_17:"WOHNHEIM",name_residence_18:"KRANKENHAUS",name_residence_19:"RATHAUS",name_residence_20:"DAS FINALE MONUMENT",STR_ACHIEVEMENT_TITLE:"TROPHÄE AKTIVIERT!",STR_ACHIEVEMENT_1:"Beende das Tutorial.",STR_ACHIEVEMENT_2:"Aktiviere 2 Gebäude.",STR_ACHIEVEMENT_3:"Beende 3 Gebäude mit 80% Genauigkeit.",STR_ACHIEVEMENT_4:"Aktiviere 4 Gebäude.",STR_ACHIEVEMENT_5:"Besitze 100 Einwohner.",STR_ACHIEVEMENT_6:"Beende 7 Gebäude mit 70% Genauigkeit.",STR_ACHIEVEMENT_7:"Aktiviere 8 Gebäude.",STR_ACHIEVEMENT_8:"Beende 10 Gebäude mit 60% Genauigkeit.",STR_ACHIEVEMENT_9:"Besitze 300 Einwohner.",STR_ACHIEVEMENT_10:"Aktiviere 12 Gebäude.",STR_ACHIEVEMENT_11:"Aktiviere 15 Gebäude.",STR_ACHIEVEMENT_12:"Besitze 600 Einwohner.",STR_ACHIEVEMENT_13:"Aktiviere 20 Gebäude.",loading_1:"Steine werden geliefert...",loading_2:"Müllauto ist unterwegs...",loading_3:"Räume werden gebaut...",loading_4:"Wände werden gestrichen...",loading_5:"Türen und Fenster werden installiert...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"SPRACHEN",retry_congrat:"Diesmal warst du besser als beim letzten Mal!",unlock_title:"Jippie! Du hast Folgendes aktiviert:",tuto_undo:'Mache den vorherigen Block rückgängig.\nWird aktiviert, wenn du 3 Blöcke "Perfekt" platzierst.',achievement_title:"TROPHÄEN",achievement_unlock:"TROPHÄE AKTIVIERT!",btn_claim:"EINFORDERN",retry_bad:"Ups!",time_out:"Die Zeit ist um.",tip_rebuild:"Tipp: Du kannst versuchen, andere Gebäude in der Stadt neu zu erbauen.",objective_time:"Zeitlimit: %s s",objective_percent:"Erhalte mindestens: %s%",objective_title:"ZIELE",congrats_all:"GLÜCKWUNSCH!",congrats_playing:"Du hast alle Gebäude aktiviert!\nSpiele weiter, um deine Stadt zu verbessern!",addtohs:"+ Home-Bildschirm",addtohs_title:"UNSER SPIEL MACHT DIR SPASS? DANN FÜGE ES ZUM HOME-BILDSCHIRM HINZU!",STR_CREDITS_CONTENT:"Gameloft\nEntwicklerteam Studio - SA1\n\nStudiomanager\nPhùng Việt Hưng\n\nLeitender Produzent\nNguyễn Việt Cường\n\nProduzent\nNguyễn Hoài Nam\n\nLeitung Spieldesign\nNguyễn Quốc Đông\n\nSpieldesign\nHuỳnh Châu Đoan\n\nLeitung Programmierung\nNguyễn Nguyên Vũ\n\nProgrammierung\nĐào Ngọc Hoàng\n\nStudioleitung Grafik\nCesar Garcia\n\nGrafik\nTrần Thị Mai Trang\nVi Hồng Luân\n\nQS\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nDirektor Sound\nJorge Peirano\n\nManager Sound\nUlrich Frantz\n\nMusik\nDenis Vachon\n\nSounddesign\nEric Andrianarivony\n\nTeam Business\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nDiese Schriftart-Software ist lizenziert unter der SIL Open Font License, Version 1.1.\nUnter folgendem Link ist eine Kopie dieser Lizenz sowie ein FAQ-Dokument einsehbar:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],en:[function(e,t,n){"use strict";cc._RF.push(t,"28a46RDowtOIL7ycdCs7vZB","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={main:{STR_GAME_FIT:"%s%",loading:"LOADING. PLEASE WAIT...",city_intro:"Let's build your city!",tuto_percent:"Accuracy percentage.\nThe more accurate your stack is, the more citizens you'll get.",tuto_stack:"Try stacking it in the middle of the previous block.",completed:"COMPLETED!",tuto_citizen:"The more accurate your stack is, the more citizens you'll get.",tuto_unlock:"Get enough citizens to unlock new buildings.",STR_GAME_PERFECT:"Perfect!",STR_GAME_UNSTABLE:"Unstable building!",STR_SETTINGS_RESUME:"RESUME",STR_SETTINGS_SOUND_ON:"SOUND: ON",STR_SETTINGS_SOUND_OFF:"SOUND: OFF",STR_SETTINGS_LANGUAGE:"LANGUAGES",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"CREDITS",STR_SETTINGS_QUIT:"MAIN MENU",STR_SETTINGS_LUDIGAMES:"MORE GAMES",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Get a better accuracy percentage to have more citizens.",lose_target:"Target:",lose_tryagain:"LET'S TRY AGAIN!",name_residence_1:"HOUSE",name_residence_2:"COFFEE SHOP",name_residence_3:"MUSEUM",name_residence_4:"VINTAGE TOWER",name_residence_5:"RESIDENCE",name_residence_6:"BAKERY",name_residence_7:"SCHOOL",name_residence_8:"ANCIENT TEMPLE",name_residence_9:"VILLA",name_residence_10:"FLOWER SHOP",name_residence_11:"POST OFFICE",name_residence_12:"GREEN SKYSCRAPER",name_residence_13:"APARTMENT",name_residence_14:"HOTEL",name_residence_15:"THEATER",name_residence_16:"DOUBLE TOWER",name_residence_17:"DORMITORY",name_residence_18:"HOSPITAL",name_residence_19:"CITY HALL",name_residence_20:"THE FINAL MONUMENT",STR_ACHIEVEMENT_TITLE:"ACHIEVEMENT UNLOCKED!",STR_ACHIEVEMENT_1:"Finish the tutorial.",STR_ACHIEVEMENT_2:"Unlock 2 buildings.",STR_ACHIEVEMENT_3:"Complete 3 buildings with over 80% accuracy.",STR_ACHIEVEMENT_4:"Unlock 4 buildings.",STR_ACHIEVEMENT_5:"Have 100 citizens.",STR_ACHIEVEMENT_6:"Complete 7 buildings with over 70% accuracy.",STR_ACHIEVEMENT_7:"Unlock 8 buildings.",STR_ACHIEVEMENT_8:"Complete 10 buildings with over 60% accuracy.",STR_ACHIEVEMENT_9:"Have 300 citizens.",STR_ACHIEVEMENT_10:"Unlock 12 buildings.",STR_ACHIEVEMENT_11:"Unlock 15 buildings.",STR_ACHIEVEMENT_12:"Have 600 citizens.",STR_ACHIEVEMENT_13:"Unlock 20 buildings.",loading_1:"Bringing the bricks... ",loading_2:"Driving the dump truck...",loading_3:"Building the rooms...",loading_4:"Painting the walls...",loading_5:"Installing doors and windows...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"LANGUAGES",retry_congrat:"You did better than last time!",unlock_title:"Yay! You have unlocked:",tuto_undo:'Undo the previous block.\nGet 3 "Perfect" stacks to activate.',achievement_title:"ACHIEVEMENTS",achievement_unlock:"ACHIEVEMENT UNLOCKED!",btn_claim:"CLAIM",retry_bad:"Oops!",time_out:"You're out of time.",tip_rebuild:"Tip: You can try to rebuild other buildings in the city.",objective_time:"Time limit: %s s",objective_percent:"Get at least: %s%",objective_title:"OBJECTIVES",congrats_all:"CONGRATULATIONS!",congrats_playing:"You have unlocked all buildings!\nKeep playing to make your city better!",addtohs:"Add to Home screen",addtohs_title:"ENJOYING OUR GAME? PLEASE ADD IT TO THE HOME SCREEN! ",STR_CREDITS_CONTENT:"Gameloft\nSA1 Studio Creation Team\n\nStudio Manager\nPhùng Việt Hưng\n\nLead Producer\nNguyễn Việt Cường\n\nProducer\nNguyễn Hoài Nam\n\nLead Game Designer\nNguyễn Quốc Đông\n\nGame Designer\nHuỳnh Châu Đoan\n\nLead Programmer\nNguyễn Nguyên Vũ\n\nProgrammer\nĐào Ngọc Hoàng\n\nStudio Lead Artist\nCesar Garcia\n\nArtists\nTrần Thị Mai Trang\nVi Hồng Luân\n\nQuality Assurance\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nAudio Director\nJorge Peirano\n\nAudio Manager\nUlrich Frantz\n\nMusic\nDenis Vachon\n\nSound Design\nEric Andrianarivony\n\nBusiness Team\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\nThis license is copied below, and is also available with a FAQ at:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],es:[function(e,t,n){"use strict";cc._RF.push(t,"734ceTj5sZPHIKzffzL/5QY","es"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.es={main:{STR_GAME_FIT:"%s%",loading:"CARGANDO. POR FAVOR, ESPERA...",city_intro:"¡Vamos a construir tu ciudad!",tuto_percent:"Precisión.\nCuanto más precisa sea la colocación, más ciudadanos conseguirás.",tuto_stack:"Intenta colocarlo justo encima del piso anterior.",completed:"¡COMPLETADO!",tuto_citizen:"Cuanto más precisa sea la colocación, más ciudadanos conseguirás.",tuto_unlock:"Consigue ciudadanos para desbloquear nuevos edificios.",STR_GAME_PERFECT:"¡Perfecto!",STR_GAME_UNSTABLE:"¡Edificio inestable!",STR_SETTINGS_RESUME:"CONTINUAR",STR_SETTINGS_SOUND_ON:"SONIDO: SÍ",STR_SETTINGS_SOUND_OFF:"SONIDO: NO",STR_SETTINGS_LANGUAGE:"IDIOMAS",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"CRÉDITOS",STR_SETTINGS_QUIT:"MENÚ PRINCIPAL",STR_SETTINGS_LUDIGAMES:"MÁS JUEGOS",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Mejora tu precisión para conseguir más ciudadanos.",lose_target:"Objetivo:",lose_tryagain:"¡VAMOS A INTENTARLO OTRA VEZ!",name_residence_1:"CASA",name_residence_2:"CAFETERÍA",name_residence_3:"MUSEO",name_residence_4:"TORRE ANTIGUA",name_residence_5:"RESIDENCIA",name_residence_6:"PASTELERÍA",name_residence_7:"ESCUELA",name_residence_8:"TEMPLO ANTIGUO",name_residence_9:"VILLA",name_residence_10:"FLORISTERÍA",name_residence_11:"OFICINA DE CORREOS",name_residence_12:"RASCACIELOS VERDE",name_residence_13:"APARTAMENTO",name_residence_14:"HOTEL",name_residence_15:"TEATRO",name_residence_16:"TORRE DOBLE",name_residence_17:"DORMITORIO",name_residence_18:"HOSPITAL",name_residence_19:"AYUNTAMIENTO",name_residence_20:"EL MONUMENTO FINAL",STR_ACHIEVEMENT_TITLE:"¡LOGRO DESBLOQUEADO!",STR_ACHIEVEMENT_1:"Completa el tutorial.",STR_ACHIEVEMENT_2:"Desbloquea 2 edificios.",STR_ACHIEVEMENT_3:"Completa 3 edificios con más de un 80% de precisión. ",STR_ACHIEVEMENT_4:"Desbloquea 4 edificios.",STR_ACHIEVEMENT_5:"Consigue 100 ciudadanos.",STR_ACHIEVEMENT_6:"Completa 7 edificios con más de un 70% de precisión. ",STR_ACHIEVEMENT_7:"Desbloquea 8 edificios.",STR_ACHIEVEMENT_8:"Completa 10 edificios con más de un 60% de precisión. ",STR_ACHIEVEMENT_9:"Consigue 300 ciudadanos.",STR_ACHIEVEMENT_10:"Desbloquea 12 edificios.",STR_ACHIEVEMENT_11:"Desbloquea 15 edificios.",STR_ACHIEVEMENT_12:"Consigue 600 ciudadanos.",STR_ACHIEVEMENT_13:"Desbloquea 20 edificios.",loading_1:"Transportando los ladrillos...",loading_2:"Conduciendo el camión...",loading_3:"Construyendo las habitaciones...",loading_4:"Pintando las paredes...",loading_5:"Colocando puertas y ventanas...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"IDIOMAS",retry_congrat:"¡Lo has hecho mejor que la última vez!",unlock_title:"¡Bien! Has desbloqueado:",tuto_undo:'Deshaz el bloque anterior.\nHaz 3 colocaciones "perfectas" para activarlo.',achievement_title:"LOGROS",achievement_unlock:"¡LOGRO DESBLOQUEADO!",btn_claim:"¡BIEN!",retry_bad:"¡Ups!",time_out:"Se ha acabado el tiempo.",tip_rebuild:"Consejo: puedes intentar reconstruir otros edificios de la ciudad.",objective_time:"Límite de tiempo: %s s",objective_percent:"Consigue al menos: %s%",objective_title:"OBJETIVOS",congrats_all:"¡ENHORABUENA!",congrats_playing:"¡Has desbloqueado todos los edificios!\n¡Sigue jugando para mejorar tu ciudad!",addtohs:"Añadir a Inicio",addtohs_title:"¿TE GUSTA ESTE JUEGO? ¡AÑÁDELO A TU PANTALLA DE INICIO!",STR_CREDITS_CONTENT:"Gameloft\nEquipo de creación, estudio SA1\n\nMánager del estudio\nPhùng Việt Hưng\n\nJefe de producción\nNguyễn Việt Cường\n\nProducción\nNguyễn Hoài Nam\n\nJefe de diseño del juego\nNguyễn Quốc Đông\n\nDiseño del juego\nHuỳnh Châu Đoan\n\nJefe de programación\nNguyễn Nguyên Vũ\n\nProgramación\nĐào Ngọc Hoàng\n\nJefe de arte del estudio\nCesar Garcia\n\nArte\nTrần Thị Mai Trang\nVi Hồng Luân\n\nGestión de calidad\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nDirección de sonido\nJorge Peirano\n\nMánager de sonido\nUlrich Frantz\n\nMúsica\nDenis Vachon\n\nDiseño de sonido\nEric Andrianarivony\n\nEquipo de negocio\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nSoftware de fuente con licencia de Open Font License, versión 1.1.\nLa licencia aparece abajo y también está disponible con una lista de preguntas frecuentes en:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],floor:[function(e,t,n){"use strict";cc._RF.push(t,"785669Ow+FHMrkuyUedgvDx","floor");var T=e("Global"),i=e("EventManager"),a=e("GameMessage");e("SoundManager"),e("Define");cc.Class({extends:cc.Component,properties:{moveDuration:1,fallDownSpeed:30,fallDownAcc:0,floorType:0,floorID:0},getMoveSpeed:function(){return T.instance().floorSpeed.length>T.instance().currTower&&T.instance().floorSpeed[T.instance().currTower].length>this.floorID?T.instance().floorSpeed[T.instance().currTower][this.floorID]:0<this.moveDuration?this.moveDuration:T.instance().initFloorMoveDuration-T.instance().percentDecreaseFloorMoveDuratin*(this.floorID-T.instance().initFirstBlock)/100>T.instance().minFloorMoveDuration?T.instance().initFloorMoveDuration-T.instance().percentDecreaseFloorMoveDuratin*(this.floorID-1)/100:T.instance().minFloorMoveDuration},firstGameTuto:function(){if(1==this.floorID&&T.instance().tutoFirstGame){var e=cc.find("Canvas/action_phase/tutorial_hand");cc.find("Canvas/action_phase/UI/tutorial_board1").active=!0,cc.find("Canvas/action_phase/UI/tutorial_board2").active=!0,e.active=!0,this.initTouchEvent()}},setMoveAction:function(){if((this.moveState=1)==this.floorID&&T.instance().tutoFirstGame)return cc.moveTo(this.getMoveSpeed(),cc.p(0,0==T.instance().fallStyle?this.node.parent.getComponent("Tower").nextLandedY+this.node.height/2:this.node.parent.getComponent("Tower").floorSpawnY+this.node.parent.getComponent("Tower").fallDownDist));var e=cc.moveTo(this.getMoveSpeed(),cc.p(this.node.parent.getComponent("Tower").leftLimitX+this.node.width/2,0==T.instance().fallStyle?this.node.parent.getComponent("Tower").nextLandedY+this.node.height/2:this.node.parent.getComponent("Tower").floorSpawnY+this.node.parent.getComponent("Tower").fallDownDist)),t=cc.moveTo(this.getMoveSpeed(),cc.p(this.node.parent.getComponent("Tower").rightLimitX-this.node.width/2,0==T.instance().fallStyle?this.node.parent.getComponent("Tower").nextLandedY+this.node.height/2:this.node.parent.getComponent("Tower").floorSpawnY+this.node.parent.getComponent("Tower").fallDownDist));return this.floorID%2==0?cc.repeatForever(cc.sequence(e,t)):cc.repeatForever(cc.sequence(t,e))},setFallDownAction:function(){return this.moveState=2,cc.moveTo((this.node.y-this.targetY)/this.fallDownSpeed/60,cc.p(this.node.x,this.node.parent.getComponent("Tower").groundY+this.node.height/2)).easing(cc.easeCubicActionIn())},setFadeAction:function(){return cc.sequence(cc.fadeTo(T.instance().perfectFadeTime,T.instance().perfectFadeOpacity),cc.fadeTo(T.instance().perfectFadeTime,255))},initTouchEvent:function(){var n=this;this.touchEvent=cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){1==n.moveState&&(n.manager.enabled=!0,n.node.parent.getComponent("Tower").endFloor&&n.removePhysic(),n.fallAction=n.setFallDownAction(),n.node.stopAction(n.moveAction),n.callBackFallAct=n.node.runAction(n.fallAction),cc.eventManager.removeListener(n.touchEvent),1==n.floorID&&T.instance().tutoFirstGame&&(T.instance().tutoFirstGame=!1,cc.sys.localStorage.setItem(T.encode(productKey+"__tutoFirstGame"),T.encode("1")),cc.find("Canvas/action_phase/tutorial_hand").active=!1,cc.find("Canvas/action_phase/UI/tutorial_board1").active=!1,cc.find("Canvas/action_phase/UI/tutorial_board2").active=!1))}},this.node)},initFirstFloor:function(e){this.node.parent.getComponent("Tower").endFloor&&this.removePhysic(),this.node.x=e,this.manager.enabled=!0,this.fallAction=this.setFallDownAction(),this.node.stopAction(this.moveAction),this.callBackFallAct=this.node.runAction(this.fallAction),cc.eventManager.removeListener(this.touchEvent)},onCollisionEnter:function(e){2==this.moveState&&(this.node.stopAction(this.fallAction),this.node.y=e.getComponent("floor").node.y+e.getComponent("floor").node.height/2+this.node.height/2,this.gameLose||(this.node.parent.getComponent("Tower").onLanded(this,e),this.showDetail()),this.landed=!0,this.landedY=this.node.y)},showDetail:function(){for(var e=0;e<this.node.children.length;e++){var t=this.node.children[e];if("detail"==t._name){t.active=!0;for(var n=0;n<t.children.length;n++)t.children[n].addComponent("DetailEffect")}}},addPhysic:function(e){this.body||(this.body=this.node.addComponent(cc.RigidBody),e&&(this.body.type=cc.RigidBodyType.Static),this.body.enabledContactListener=!0,this.collider=this.node.addComponent(cc.PhysicsBoxCollider),this.collider.size.width=this.node.width,this.collider.size.height=this.node.height,this.collider.apply())},removePhysic:function(){this.body&&(this.node.removeComponent(cc.RigidBody),this.body=null)},onGameLose:function(){if(null!=this.body){var e=this.body.getWorldPosition();e.x+=0<this.node.x?this.node.width/2:-this.node.width/2,this.body.applyLinearImpulse(cc.v2(e.x,-2e3),e,!0)}},onDestroy:function(){i.default.instance.unregisterTarget(this)},onLoad:function(){var e=this;if("game"==T.instance().currScene){if(this.body=null,this.targetY=this.node.parent.getComponent("Tower").groundY,this.cutLeft=0,this.cutRight=0,this.newWidth=0,this.moveState=0,this.moveAction,this.callBackFallAct,this.fadeAction=this.setFadeAction(),this.manager=cc.director.getCollisionManager(),this.manager.enabled=!1,this.landed=!1,this.timeFloor=this.node.parent.getComponent("Tower").timeFloor,this.timeFloor.string="",(this.landedY=0)==cc.find("Canvas/win").active)for(var t=0;t<this.node.children.length;t++){var n=this.node.children[t];if("detail"==n._name){n.active=!1;for(var o=0;o<n.children.length;o++)n.children[o].initScaleX=n.children[o].scaleX,n.children[o].initScaleY=n.children[o].scaleY,n.children[o].scaleX=n.children[o].scaleX*T.instance().detailInitScale,n.children[o].scaleY=n.children[o].scaleY*T.instance().detailInitScale}}else this.node.on(cc.Node.EventType.TOUCH_END,function(e){});this.gameLose=!1,i.default.instance.registerOnce(a.default.GAME_LOSE,this.onGameLose,this),this.floorTime=T.instance().levelDesign[T.instance().currTower][3],0<T.instance().levelDesign[T.instance().currTower][2]&&i.default.instance.registerOnce(a.default.GAME_TIME_OUT,function(){null!=e.node&&(e.node.stopAction(e.moveAction),cc.eventManager.removeListener(e.touchEvent),e.landed=!0)},this)}else T.instance().currScene;if(this.node.parent.getComponent("Tower").blur){T.instance().isLowDevice&&(this.node.color=new cc.Color(9,12,15,255));for(t=0;t<this.node.children.length;t++)this.node.children[t].active=!1}},setColor:function(e,t){var n=this.getComponent(cc.Sprite).spriteFrame.getTexture()._image,o=document.createElement("canvas"),i=o.getContext("2d");o.width=n.width,o.height=n.height,i.drawImage(n,0,0);var a,s=i.getImageData(0,0,n.width,n.height),c=e>>16&255,r=e>>8&255,l=e>>0&255,d=(t>>16&255)-c,h=(t>>8&255)-r,u=(t>>0&255)-l;s.width;c<<=16,r<<=16,l<<=16,d=(d<<16)/(a=T.instance().towersDefault[this.node.parent.getComponent("Tower").towerID][4]-1)|0,h=(h<<16)/a|0,u=(u<<16)/a|0;for(var _=0;_<s.height;_++){for(var g=0;g<s.width;g++){var m=_*(4*s.width)+4*g;m+3!=0&&(s.data[m]=c>>16,s.data[m+1]=r>>16,s.data[m+2]=l>>16)}c+=d,r+=h,l+=u}i.putImageData(s,0,0);var p=new cc.Texture2D;p.initWithElement(o),p.handleLoadedTexture(),this.getComponent(cc.Sprite).spriteFrame._refreshTexture(p)},start:function(){},update:function(e){if("game"==T.instance().currScene){if(this.landed)return;this.node.parent.getComponent("Tower").endFloor&&(this.floorTime=-1e6),0<T.instance().levelDesign[T.instance().currTower][3]&&1==this.moveState?0<this.floorTime?(enableADS?0==T.instance().showAdsState&&(this.floorTime-=e):this.floorTime-=e,this.timeFloor.node.active=!0,this.timeFloor.string=this.floorTime.toString().substring(0,3),this.timeFloor.node.x=this.node.x,this.timeFloor.node.y=this.node.y+this.node.parent.getComponent("Tower").node.y+this.node.height/2+this.timeFloor.node.height/2):-1e6!=this.floorTime&&(this.timeFloor.node.active=!1,this.initFirstFloor(this.node.x)):this.timeFloor.node.active=!1,null!=this.moveAction&&this.moveAction.isDone()&&this.firstGameTuto()}}}),cc._RF.pop()},{Define:"Define",EventManager:"EventManager",GameMessage:"GameMessage",Global:"Global",SoundManager:"SoundManager"}],fr:[function(e,t,n){"use strict";cc._RF.push(t,"9b0f9i/lp5G5IOdGYt/Mzmd","fr"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.fr={main:{STR_GAME_FIT:"%s%",loading:"CHARGEMENT. MERCI DE PATIENTER...",city_intro:"Construisons ta ville !",tuto_percent:"Pourcentage de précision.\nPlus ta pile est précise, plus tu obtiens de citoyens.",tuto_stack:"Tente de l'empiler au centre du bloc précédent.",completed:"TERMINÉ !",tuto_citizen:"Plus ta pile est précise, plus tu obtiens de citoyens.",tuto_unlock:"Obtiens assez de citoyens pour débloquer de nouveaux bâtiments.",STR_GAME_PERFECT:"Parfait !",STR_GAME_UNSTABLE:"Bâtiment instable !",STR_SETTINGS_RESUME:"REPRENDRE",STR_SETTINGS_SOUND_ON:"SON : OUI",STR_SETTINGS_SOUND_OFF:"SON : NON",STR_SETTINGS_LANGUAGE:"LANGUES",STR_SETTINGS_TUTORIAL:"TUTORIEL",STR_SETTINGS_CREDITS:"CRÉDITS",STR_SETTINGS_QUIT:"MENU PRINCIPAL",STR_SETTINGS_LUDIGAMES:"PLUS DE JEUX",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Obtiens un meilleur pourcentage de précision pour avoir plus de citoyens.",lose_target:"Cible :",lose_tryagain:"ESSAYONS À NOUVEAU !",name_residence_1:"MAISON",name_residence_2:"CAFÉ",name_residence_3:"MUSÉE",name_residence_4:"TOUR RÉTRO",name_residence_5:"RÉSIDENCE",name_residence_6:"BOULANGERIE",name_residence_7:"ÉCOLE",name_residence_8:"TEMPLE ANCIEN",name_residence_9:"VILLA",name_residence_10:"FLEURISTE",name_residence_11:"POSTE",name_residence_12:"GRATTE-CIEL VERT",name_residence_13:"APPARTEMENT",name_residence_14:"HÔTEL",name_residence_15:"CINÉMA",name_residence_16:"TOUR DOUBLE",name_residence_17:"DORTOIR",name_residence_18:"HÔPITAL",name_residence_19:"HÔTEL DE VILLE",name_residence_20:"LE MONUMENT FINAL",STR_ACHIEVEMENT_TITLE:"SUCCÈS DÉBLOQUÉ !",STR_ACHIEVEMENT_1:"Termine le tutoriel.",STR_ACHIEVEMENT_2:"Débloque 2 bâtiments.",STR_ACHIEVEMENT_3:"Termine 3 bâtiments avec une précision de plus de 80%.",STR_ACHIEVEMENT_4:"Débloque 4 bâtiments.",STR_ACHIEVEMENT_5:"Possède 100 citoyens.",STR_ACHIEVEMENT_6:"Termine 7 bâtiments avec une précision de plus de 70%.",STR_ACHIEVEMENT_7:"Débloque 8 bâtiments.",STR_ACHIEVEMENT_8:"Termine 10 bâtiments avec une précision de plus de 60%.",STR_ACHIEVEMENT_9:"Possède 300 citoyens.",STR_ACHIEVEMENT_10:"Débloque 12 bâtiments.",STR_ACHIEVEMENT_11:"Débloque 15 bâtiments.",STR_ACHIEVEMENT_12:"Possède 600 citoyens.",STR_ACHIEVEMENT_13:"Débloque 20 bâtiments.",loading_1:"Livraison des briques...",loading_2:"En attente du camion à benne...",loading_3:"Construction des chambres...",loading_4:"Peinture des murs...",loading_5:"Installation des portes et des fenêtres...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"LANGUES",retry_congrat:"Tu as mieux fait que la dernière fois !",unlock_title:"Génial ! Tu as débloqué :",tuto_undo:"Retire le bloc précédent.\nFais 3 empilements parfaits pour l'activer.",achievement_title:"SUCCÈS",achievement_unlock:"SUCCÈS DÉBLOQUÉ !",btn_claim:"RÉCUPÉRER",retry_bad:"Oups !",time_out:"Tu es à court de temps",tip_rebuild:"Astuce : Essaie de reconstruire d'autres bâtiments dans la ville.",objective_time:"Limite de temps : %s s",objective_percent:"Obtiens au moins : %s%",objective_title:"OBJECTIFS",congrats_all:"FÉLICITATIONS !",congrats_playing:"Tu as débloqué tous les bâtiments !\nContinue à jouer pour améliorer ta ville.",addtohs:"Ajouter à l'écran d'accueil",addtohs_title:"NOTRE JEU TE PLAÎT ? MERCI DE L'AJOUTER À L'ÉCRAN D'ACCUEIL !",STR_CREDITS_CONTENT:"Gameloft\nÉquipe de création studio SA1\n\nManager studio\nPhùng Việt Hưng\n\nChef producteur\nNguyễn Việt Cường\n\nProducteur\nNguyễn Hoài Nam\n\nChef game designer\nNguyễn Quốc Đông\n\nGame designers\nHuỳnh Châu Đoan\n\nChef programmeur\nNguyễn Nguyên Vũ\n\nProgrammeurs\nĐào Ngọc Hoàng\n\nChef graphiste studio\nCesar Garcia\n\nGraphistes\nTrần Thị Mai Trang\nVi Hồng Luân\n\nAssurance qualité\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nDirecteur audio\nJorge Peirano\n\nManager audio\nUlrich Frantz\n\nMusique\nDenis Vachon\n\nSound design\nEric Andrianarivony\n\nÉquipe commerciale\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nCe logiciel de police est sous licence SIL Open Font License, Version 1.1.\nCette licence est disponible avec une FAQ à :\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],"i18n-supported-languages":[function(e,t,n){"use strict";cc._RF.push(t,"97321IiAvtANock0NRLsiBP","i18n-supported-languages"),window.i18n||(window.i18n={}),window.i18n.supported_languages=["en","fr","de","es","it","br","tr","ru","id","th","vi","tc","sc"],cc._RF.pop()},{}],i18n:[function(e,t,n){"use strict";cc._RF.push(t,"cb41b4cbx9AcpIzAaOE+6ZV","i18n"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={});var o=e("polyglot"),i=window.i18n.supported_languages||[];null==window.productKey&&(window.productKey="urbanStack");var a=cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language")),s="";null==a?(s=cc.sys.language,0<i.length&&-1==i.indexOf(s)&&(s=i[0]),cc.sys.localStorage.setItem(window.btoa(productKey+"__gamesave-language"),window.btoa(s))):(a=window.atob(a),s=a);var c=window.i18n.languages[s]||{},r=new o({phrases:c,allowMissing:!0});t.exports={init:function(e){window.i18n.languages[s]&&cc.sys.localStorage.setItem(window.btoa(productKey+"__gamesave-language"),window.btoa(e)),s=e,c=window.i18n.languages[s]||{},r.replace(c)},t:function(e,t){return r.t(e,t)}},cc._RF.pop()},{polyglot:"polyglot"}],id:[function(e,t,n){"use strict";cc._RF.push(t,"a3233h73vVMSq+bvrOogfKp","id"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.id={main:{STR_GAME_FIT:"%s%",loading:"MEMUAT. MOHON MENUNGGU…",city_intro:"Ayo bangun kotamu!",tuto_percent:"Persentase akurasi.\nSemakin akurat tumpukanmu, semakin banyak penduduk yang akan kamu peroleh.",tuto_stack:"Cobalah untuk menumpuk di bagian tengah dari balok sebelumnya.",completed:"SELESAI!",tuto_citizen:"Semakin akurat tumpukanmu, semakin banyak penduduk yang akan kamu peroleh.",tuto_unlock:"Dapatkan penduduk dalam jumlah cukup untuk membuka gedung baru.",STR_GAME_PERFECT:"Sempurna!",STR_GAME_UNSTABLE:"Gedung tidak stabil!",STR_SETTINGS_RESUME:"LANJUT",STR_SETTINGS_SOUND_ON:"SUARA: ON",STR_SETTINGS_SOUND_OFF:"SUARA: OFF",STR_SETTINGS_LANGUAGE:"BAHASA",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"KREDIT",STR_SETTINGS_QUIT:"MENU UTAMA",STR_SETTINGS_LUDIGAMES:"GAME LAINNYA",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Dapatkan persentase akurasi yang lebih baik untuk mendatangkan lebih banyak penduduk.",lose_target:"Target:",lose_tryagain:"AYO COBA LAGI!",name_residence_1:"HOUSE",name_residence_2:"COFFEE SHOP",name_residence_3:"MUSEUM",name_residence_4:"VINTAGE TOWER",name_residence_5:"RESIDENCE",name_residence_6:"BAKERY",name_residence_7:"SCHOOL",name_residence_8:"ANCIENT TEMPLE",name_residence_9:"VILLA",name_residence_10:"FLOWER SHOP",name_residence_11:"POST OFFICE",name_residence_12:"GREEN SKYSCRAPER",name_residence_13:"APARTMENT",name_residence_14:"HOTEL",name_residence_15:"THEATER",name_residence_16:"DOUBLE TOWER",name_residence_17:"DORMITORY",name_residence_18:"HOSPITAL",name_residence_19:"CITY HALL",name_residence_20:"THE FINAL MONUMENT",STR_ACHIEVEMENT_TITLE:"PENCAPAIAN TERBUKA!",STR_ACHIEVEMENT_1:"Menyelesaikan tutorial.",STR_ACHIEVEMENT_2:"Membuka 2 gedung.",STR_ACHIEVEMENT_3:"Menyelesaikan 3 gedung dengan akurasi lebih dari 80%.",STR_ACHIEVEMENT_4:"Membuka 4 gedung.",STR_ACHIEVEMENT_5:"Memiliki 100 penduduk.",STR_ACHIEVEMENT_6:"Menyelesaikan 7 gedung dengan akurasi lebih dari 70%.",STR_ACHIEVEMENT_7:"Membuka 8 gedung.",STR_ACHIEVEMENT_8:"Menyelesaikan 10 gedung dengan akurasi lebih dari 60%.",STR_ACHIEVEMENT_9:"Memiliki 300 penduduk.",STR_ACHIEVEMENT_10:"Membuka 12 gedung.",STR_ACHIEVEMENT_11:"Membuka 15 gedung.",STR_ACHIEVEMENT_12:"Memiliki 600 penduduk.",STR_ACHIEVEMENT_13:"Membuka 20 gedung.",loading_1:"Membawa bata…",loading_2:"Mengemudikan truk sampah…",loading_3:"Membangun ruangan…",loading_4:"Mengecat tembok…",loading_5:"Memasang pintu dan jendela…",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"BAHASA",retry_congrat:"Kamu menyelesaikan dengan lebih baik dari sebelumnya!",unlock_title:"Hore! Kamu telah membuka:",tuto_undo:'Membatalkan balok sebelumnya.\nDapatkan 3 tumpukan "Sempurna" untuk mengaktifkan.',achievement_title:"PENCAPAIAN",achievement_unlock:"PENCAPAIAN TERBUKA!",btn_claim:"KLAIM",retry_bad:"Ups!",time_out:"Waktumu habis.",tip_rebuild:"Saran: Kamu dapat mencoba membangun ulang gedung lain di kota.",objective_time:"Batas waktu: %s d",objective_percent:"Dapatkan setidaknya: %s%",objective_title:"TUJUAN",congrats_all:"SELAMAT!",congrats_playing:"Kamu telah membuka semua gedung!\nTeruslah bermain untuk menjadikan kotamu lebih baik!",addtohs:"Tambahkan ke Home screen",addtohs_title:"MENIKMATI GAME KAMI? TAMBAHKAN KE HOME SCREEN!",STR_CREDITS_CONTENT:"Gameloft\nTim Creation Studio SA1\n\nManajer Studio\nPhùng Việt Hưng\n\nPimpinan Produser\nNguyễn Việt Cường\n\nProduser\nNguyễn Hoài Nam\n\nPimpinan Perancang Game\nNguyễn Quốc Đông\n\nPerancang Game\nHuỳnh Châu Đoan\n\nPimpinan Programer\nNguyễn Nguyên Vũ\n\nProgramer\nĐào Ngọc Hoàng\n\nPimpinan Artis Studio\nCesar Garcia\n\nArtis\nTrần Thị Mai Trang\nVi Hồng Luân\n\nPenjamin Mutu\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nPengarah Audio\nJorge Peirano\n\nManajer Audio\nUlrich Frantz\n\nMusik\nDenis Vachon\n\nDesain Suara\nEric Andrianarivony\n\nTim Bisnis\nAurelien Lavaud\nNguyễn Thị Trường An\n\nHak cipta (c) 2010, Santiago Orozco (hi@typemade.mx)\nPerangkat lunak Font berada di bawah lisensi SIL Open Font License, Versi 1.1.\nLisensi ini tersalin di bawah, dan juga tersedia dengan FAQ di:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],it:[function(e,t,n){"use strict";cc._RF.push(t,"f4074oxMvFKaZSoRFj13yC2","it"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.it={main:{STR_GAME_FIT:"%s%",loading:"CARICAMENTO. ATTENDI...",city_intro:"Crea la tua città!",tuto_percent:"Percentuale di precisione.\nPiù precisa è la pila dei blocchi e più cittadini avrai. ",tuto_stack:"Prova a impilarlo al centro del blocco precedente.",completed:"COMPLETATO!",tuto_citizen:"Più la tua pila è precisa, più cittadini otterrai.",tuto_unlock:"Ottieni abbastanza cittadini per sbloccare nuovi edifici.",STR_GAME_PERFECT:"Perfetto!",STR_GAME_UNSTABLE:"Edificio instabile!",STR_SETTINGS_RESUME:"RIPRENDI",STR_SETTINGS_SOUND_ON:"AUDIO: SÌ",STR_SETTINGS_SOUND_OFF:"AUDIO: NO",STR_SETTINGS_LANGUAGE:"LINGUE",STR_SETTINGS_TUTORIAL:"TUTORIAL",STR_SETTINGS_CREDITS:"RICONOSCIMENTI",STR_SETTINGS_QUIT:"MENU PRINCIPALE",STR_SETTINGS_LUDIGAMES:"ALTRI GIOCHI",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Ottieni una percentuale di precisione maggiore per avere più cittadini.",lose_target:"Obiettivo:",lose_tryagain:"RIPROVIAMO!",name_residence_1:"CASA",name_residence_2:"BAR",name_residence_3:"MUSEO",name_residence_4:"VECCHIA TORRE",name_residence_5:"ABITAZIONE",name_residence_6:"FORNO",name_residence_7:"SCUOLA",name_residence_8:"TEMPIO ANTICO",name_residence_9:"VILLA",name_residence_10:"FIORAIO",name_residence_11:"POSTA",name_residence_12:"GRATTACIELO VERDE",name_residence_13:"APPARTAMENTO",name_residence_14:"ALBERGO",name_residence_15:"TEATRO",name_residence_16:"TORRE DOPPIA",name_residence_17:"DORMITORIO",name_residence_18:"OSPEDALE",name_residence_19:"MUNICIPIO",name_residence_20:"MONUMENTO FINALE",STR_ACHIEVEMENT_TITLE:"TROFEO SBLOCCATO!",STR_ACHIEVEMENT_1:"Completa il tutorial.",STR_ACHIEVEMENT_2:"Sblocca 2 edifici.",STR_ACHIEVEMENT_3:"Completa 3 edifici con più dell'80% di precisione.",STR_ACHIEVEMENT_4:"Sblocca 4 edifici.",STR_ACHIEVEMENT_5:"Ottieni 100 cittadini.",STR_ACHIEVEMENT_6:"Completa 7 edifici con più del 70% di precisione.",STR_ACHIEVEMENT_7:"Sblocca 8 edifici.",STR_ACHIEVEMENT_8:"Completa 10 edifici con più del 60% di precisione.",STR_ACHIEVEMENT_9:"Ottieni 300 cittadini.",STR_ACHIEVEMENT_10:"Sblocca 12 edifici.",STR_ACHIEVEMENT_11:"Sblocca 15 edifici.",STR_ACHIEVEMENT_12:"Ottieni 600 cittadini.",STR_ACHIEVEMENT_13:"Sblocca 20 edifici.",loading_1:"Prepariamo i mattoni...",loading_2:"Guidiamo il camion...",loading_3:"Costruiamo le stanze...",loading_4:"Imbianchiamo le mura...",loading_5:"Installiamo porte e finestre...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"LINGUE",retry_congrat:"Hai fatto meglio della volta scorsa!",unlock_title:"Ottimo! Hai sbloccato:",tuto_undo:"Annulla il blocco precedente.\nImpila perfettamente 3 volte\nper attivare.",achievement_title:"TROFEI",achievement_unlock:"TROFEO SBLOCCATO!",btn_claim:"RITIRA",retry_bad:"Ops!",time_out:"Il tempo è scaduto.",tip_rebuild:"Consiglio: puoi provare a ricostruire altri edifici della città.",objective_time:"Tempo limite: %s s",objective_percent:"Ottieni almeno: %s%",objective_title:"OBIETTIVI",congrats_all:"COMPLIMENTI!",congrats_playing:"Hai sbloccato tutti gli edifici!\nContinua a giocare per migliorare la tua città!",addtohs:"Aggiungi alla home screen",addtohs_title:"TI PIACE IL GIOCO? AGGIUNGILO ALLA TUA HOME SCREEN!",STR_CREDITS_CONTENT:"Gameloft\nStudio SA1 - Squadra creazione\n\nResponsabile studio\nPhùng Việt Hưng\n\nCapo produttore\nNguyễn Việt Cường\n\nProduttore\nNguyễn Hoài Nam\n\nCapo design gioco\nNguyễn Quốc Đông\n\nDesign gioco\nHuỳnh Châu Đoan\n\nCapo programmazione\nNguyễn Nguyên Vũ\n\nProgrammazione\nĐào Ngọc Hoàng\n\nCapo grafica studio\nCesar Garcia\n\nGrafica\nTrần Thị Mai Trang\nVi Hồng Luân\n\nControllo qualità\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nDirettore audio\nJorge Peirano\n\nResponsabile audio\nUlrich Frantz\n\nMusiche\nDenis Vachon\n\nDesign audio\nEric Andrianarivony\n\nSquadra business\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\nIl software di questo font è concesso su licenza SIL Open Font License, versione 1.1.\nTale licenza è riportata qui sotto ed è anche disponibile, con una sezione Domande frequenti, all'indirizzo:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],polyglot:[function(e,o,i){(function(e){"use strict";cc._RF.push(o,"fc9daZr2NhGiIHGcSpiJP7z","polyglot");var t,n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=void 0!==e?e:void 0,n=function(t){var h=String.prototype.replace;function e(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||n}e.VERSION="1.0.0",e.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},e.prototype.extend=function(e,t){var n;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],t&&(o=t+"."+o),"object"===(void 0===n?"undefined":s(n))?this.extend(n,o):this.phrases[o]=n)},e.prototype.unset=function(e,t){var n;if("string"==typeof e)delete this.phrases[e];else for(var o in e)e.hasOwnProperty(o)&&(n=e[o],t&&(o=t+"."+o),"object"===(void 0===n?"undefined":s(n))?this.unset(n,o):delete this.phrases[o])},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(e){this.clear(),this.extend(e)},e.prototype.t=function(e,t){var n,o;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof t._?n=t._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),o=e),"string"==typeof n&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),o=function(e,t){for(var n in t)if("_"!==n&&t.hasOwnProperty(n)){var o=t[n];"string"==typeof o&&(o=h.call(t[n],i,a)),e=h.call(e,new RegExp("%\\{"+n+"\\}","g"),o)}return e}(o=function(e,t,n){var o,i,a;null!=n&&e?(i=e.split(u),a=i[(c=t,r=n,_[(l=c,d=function(e){var t,n,o,i={};for(t in e)if(e.hasOwnProperty(t))for(o in n=e[t])i[n[o]]=t;return i}(g),d[l]||d.en)](r))]||i[0],s=a,o=h.call(s,m,"")):o=e;var s;var c,r,l,d;return o}(n,this.currentLocale,t.smart_count),t)),o},e.prototype.has=function(e){return e in this.phrases};var u="||||",_={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return 1<e?1:0},russian:function(e){return e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},czech:function(e){return 1===e?0:2<=e&&e<=4?1:2},polish:function(e){return 1===e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},g={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};var m=/^\s+|\s+$/g;var i=/\$/g,a="$$$$";function n(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}return e},"function"==typeof define&&define.amd?define([],function(){return n(t)}):"object"===(void 0===i?"undefined":s(i))?o.exports=n(t):t.Polyglot=n(t),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"preview-lang":[function(e,t,n){"use strict";cc._RF.push(t,"2a277q2SSVDwI0I8ZZEOd2Z","preview-lang"),window.i18n||(window.i18n={}),window.i18n.preview_lang="en",cc._RF.pop()},{}],ru:[function(e,t,n){"use strict";cc._RF.push(t,"91327ox4YxPN70lQidfqFeX","ru"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.ru={main:{STR_GAME_FIT:"%s%",loading:"ЗАГРУЗКА. ПОЖАЛУЙСТА, ПОДОЖДИТЕ…",city_intro:"Давайте строить город!",tuto_percent:"Процент точности.\nЧем точнее расположены блоки, тем больше жильцов поселится в здании.",tuto_stack:"Старайтесь установить блок посередине предыдущего.",completed:"ГОТОВО!",tuto_citizen:"Чем точнее расположены блоки, тем больше жильцов поселится в здании.",tuto_unlock:"Получите больше жильцов и откройте новые здания.",STR_GAME_PERFECT:"Отлично!",STR_GAME_UNSTABLE:"Неустойчивое здание!",STR_SETTINGS_RESUME:"ПРОДОЛЖИТЬ",STR_SETTINGS_SOUND_ON:"ЗВУК: ВКЛ",STR_SETTINGS_SOUND_OFF:"ЗВУК: ВЫКЛ",STR_SETTINGS_LANGUAGE:"ЯЗЫКИ",STR_SETTINGS_TUTORIAL:"ОБУЧЕНИЕ",STR_SETTINGS_CREDITS:"НАД ИГРОЙ РАБОТАЛИ",STR_SETTINGS_QUIT:"ГЛАВНОЕ МЕНЮ",STR_SETTINGS_LUDIGAMES:"ДРУГИЕ ИГРЫ",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Чем выше процент точности, тем больше жильцов.",lose_target:"Цель:",lose_tryagain:"ПОПРОБУЕМ ЕЩЕ РАЗ!",name_residence_1:"ДОМ",name_residence_2:"КОФЕЙНЯ",name_residence_3:"МУЗЕЙ",name_residence_4:"СТАРИННАЯ БАШНЯ",name_residence_5:"РЕЗИДЕНЦИЯ",name_residence_6:"БУЛОЧНАЯ",name_residence_7:"ШКОЛА",name_residence_8:"ДРЕВНИЙ ХРАМ",name_residence_9:"ВИЛЛА",name_residence_10:"ЦВЕТОЧНЫЙ МАГАЗИН",name_residence_11:"ПОЧТА",name_residence_12:"ЗЕЛЕНЫЙ НЕБОСКРЕБ",name_residence_13:"КВАРТИРЫ",name_residence_14:"ОТЕЛЬ",name_residence_15:"ТЕАТР",name_residence_16:"БАШНИ-БЛИЗНЕЦЫ",name_residence_17:"ОБЩЕЖИТИЕ",name_residence_18:"БОЛЬНИЦА",name_residence_19:"РАТУША",name_residence_20:"ФИНАЛЬНЫЙ МОНУМЕНТ",STR_ACHIEVEMENT_TITLE:"ДОСТИЖЕНИЕ ОТКРЫТО!",STR_ACHIEVEMENT_1:"Пройдите обучение.",STR_ACHIEVEMENT_2:"Откройте 2 здания.",STR_ACHIEVEMENT_3:"Возведите 3 здания с более чем 80% точностью.",STR_ACHIEVEMENT_4:"Откройте 4 здания.",STR_ACHIEVEMENT_5:"Получите 100 жильцов.",STR_ACHIEVEMENT_6:"Возведите 7 зданий с более чем 70% точностью.",STR_ACHIEVEMENT_7:"Откройте 8 зданий.",STR_ACHIEVEMENT_8:"Возведите 10 зданий с более чем 60% точностью.",STR_ACHIEVEMENT_9:"Получите 300 жильцов.",STR_ACHIEVEMENT_10:"Откройте 12 зданий.",STR_ACHIEVEMENT_11:"Откройте 15 зданий.",STR_ACHIEVEMENT_12:"Получите 600 жильцов.",STR_ACHIEVEMENT_13:"Откройте 20 зданий.",loading_1:"Поставляем кирпичи…",loading_2:"Катаемся на мусороуборочной машине…",loading_3:"Строим комнаты…",loading_4:"Красим стены…",loading_5:"Устанавливаем двери и окна…",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"ЯЗЫКИ",retry_congrat:"В этот раз у вас получилось лучше!",unlock_title:"Ура! Вы открыли:",tuto_undo:"Убрать предыдущий блок.\nРаботает после 3-х ''идеально'' поставленных блоков.",achievement_title:"ДОСТИЖЕНИЯ",achievement_unlock:"ДОСТИЖЕНИЕ ОТКРЫТО!",btn_claim:"ВЗЯТЬ",retry_bad:"Ой!",time_out:"Закончилось время.",tip_rebuild:"Совет: попробуйте перестроить другие здания в городе.",objective_time:"Время: %s с",objective_percent:"Нужно: %s%",objective_title:"ЗАДАНИЯ",congrats_all:"ПОЗДРАВЛЯЕМ!",congrats_playing:"Вы открыли все здания!\nПродолжайте играть и сделайте свой город еще лучше!",addtohs:"Добавить на главный экран",addtohs_title:"ПОНРАВИЛАСЬ ИГРА? ТОГДА ДОБАВЬТЕ ЕЕ НА ГЛАВНЫЙ ЭКРАН!",STR_CREDITS_CONTENT:"Gameloft\nСайгонская студия 1, команда разработки\n\nМенеджер студии\nPhùng Việt Hưng\n\nВед. продюсер\nNguyễn Việt Cường\n\nПродюсер\nNguyễn Hoài Nam\n\nВед. гейм-дизайнер\nNguyễn Quốc Đông\n\nГейм-дизайнеры\nHuỳnh Châu Đoan\n\nВед. программист\nNguyễn Nguyên Vũ\n\nПрограммисты\nĐào Ngọc Hoàng\n\nВед. художник студии\nCesar Garcia\n\nХудожники\nTrần Thị Mai Trang\nVi Hồng Luân\n\nТестирование\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nЗвукорежиссер\nJorge Peirano\n\nАудио-менеджер\nUlrich Frantz\n\nМузыка\nDenis Vachon\n\nДизайн звука\nEric Andrianarivony\n\nБизнес-команда\nAurelien Lavaud\nNguyễn Thị Trường An\n\nАвторское право (c) 2010, Santiago Orozco (hi@typemade.mx)\nЭтот шрифт распространяется по лицензии SIL Open Font License, версия 1.1.\nТекст лицензии приведен ниже, а также доступен в разделе ЧАВО на сайте:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],scrollBG:[function(e,t,n){"use strict";cc._RF.push(t,"57248yBCa1N6Zneli1c0IGA","scrollBG"),cc.Class({extends:cc.Component,properties:{scrollWidth:768,numBG:2,speed:10},start:function(){},update:function(e){this.node.x+=this.speed,this.node.x<-this.node.width/2-this.scrollWidth/2?this.node.x+=this.node.width*this.numBG:this.node.x>this.node.width*this.numBG-this.node.width/2-this.scrollWidth/2&&(this.node.x-=this.node.width*this.numBG)}}),cc._RF.pop()},{}],sc:[function(e,t,n){"use strict";cc._RF.push(t,"a3d13XuWDFGGaj+xgNoeyuq","sc"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.sc={main:{STR_GAME_FIT:"%s%",loading:"加载中。请稍候……",city_intro:"来建造你的城市吧！",tuto_percent:"准确度。\n你堆叠的准确度越高，获得的市民就越多。",tuto_stack:"尝试堆叠在上一层的中间。",completed:"完成！",tuto_citizen:"你堆叠的准确度越高，获得的市民就越多。",tuto_unlock:"获得足够多的市民以解锁新的建筑。",STR_GAME_PERFECT:"完美！",STR_GAME_UNSTABLE:"建筑不稳固！",STR_SETTINGS_RESUME:"返回",STR_SETTINGS_SOUND_ON:"声音：开启",STR_SETTINGS_SOUND_OFF:"声音：关闭",STR_SETTINGS_LANGUAGE:"语言",STR_SETTINGS_TUTORIAL:"教程",STR_SETTINGS_CREDITS:"制作人员名单",STR_SETTINGS_QUIT:"主菜单",STR_SETTINGS_LUDIGAMES:"更多游戏",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"提升准确度，以获取更多市民。",lose_target:"目标：",lose_tryagain:"重试一次！",name_residence_1:"房屋",name_residence_2:"咖啡店",name_residence_3:"博物馆",name_residence_4:"复古塔",name_residence_5:"住宅",name_residence_6:"面包店",name_residence_7:"学校",name_residence_8:"古寺庙",name_residence_9:"别墅",name_residence_10:"花店",name_residence_11:"邮局",name_residence_12:"环保摩天楼",name_residence_13:"公寓",name_residence_14:"酒店",name_residence_15:"剧院",name_residence_16:"双子塔",name_residence_17:"宿舍",name_residence_18:"医院",name_residence_19:"市政厅",name_residence_20:"最终纪念碑",STR_ACHIEVEMENT_TITLE:"成就解锁！",STR_ACHIEVEMENT_1:"完成教程。",STR_ACHIEVEMENT_2:"解锁2座建筑。",STR_ACHIEVEMENT_3:"完成3座建筑，准确度在80%以上。",STR_ACHIEVEMENT_4:"解锁4座建筑。",STR_ACHIEVEMENT_5:"拥有100位市民。",STR_ACHIEVEMENT_6:"完成7座建筑，准确度在70%以上。",STR_ACHIEVEMENT_7:"解锁8座建筑。",STR_ACHIEVEMENT_8:"完成10座建筑，准确度在60%以上。",STR_ACHIEVEMENT_9:"拥有300位市民。",STR_ACHIEVEMENT_10:"解锁12座建筑。",STR_ACHIEVEMENT_11:"解锁15座建筑。",STR_ACHIEVEMENT_12:"拥有600位市民。",STR_ACHIEVEMENT_13:"解锁20座建筑。",loading_1:"正在运送砖块……",loading_2:"正在驾驶卸货车……",loading_3:"正在修建房间……",loading_4:"正在刷墙……",loading_5:"正在安装门窗……",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"语言",retry_congrat:"你比上次表现得更出色！",unlock_title:"耶！你解锁了：",tuto_undo:"取消上一个方块。\n完成3次完美堆叠即可激活。",achievement_title:"成就",achievement_unlock:"成就解锁！",btn_claim:"领取",retry_bad:"糟糕！",time_out:"时间已耗尽。",tip_rebuild:"提示：你可以尝试在城市里重新修建其他建筑。",objective_time:"时限：%s秒",objective_percent:"最低要求：%s%",objective_title:"目标",congrats_all:"恭喜！",congrats_playing:"你已解锁全部建筑！\n继续游戏，让你的城市获得更繁荣的发展吧！",addtohs:"添加到主屏幕",addtohs_title:"喜欢我们的游戏吗？\n请将它添加到主屏幕吧！",STR_CREDITS_CONTENT:"Gameloft\n西贡工作室开发团队\n\n工作室经理\nPhùng Việt Hưng\n\n主制作人\nNguyễn Việt Cường\n\n制作人\nNguyễn Hoài Nam\n\n游戏主策划\nNguyễn Quốc Đông\n\n游戏策划\nHuỳnh Châu Đoan\n\n主程序\nNguyễn Nguyên Vũ\n\n程序\nĐào Ngọc Hoàng\n\n工作室主美\nCesar Garcia\n\n美术\nTrần Thị Mai Trang\nVi Hồng Luân\n\n测试\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\n声音总监\nJorge Peirano\n\n声音经理\nUlrich Frantz\n\n音乐\nDenis Vachon\n\n音乐\nEric Andrianarivony\n\n商业团队\nAurelien Lavaud\nNguyễn Thị Trường An\n\nnCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\n本字体软件经SIL Open Font License 1.1版许可使用。\n许可副本见下，另提供常见问题解答：\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],"setting-handle":[function(l,e,t){"use strict";cc._RF.push(e,"a9f39AvPihBfpKa5/zoJZAp","setting-handle"),Object.defineProperty(t,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,d=l("./SoundManager"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flagIcon=[],e.soundIcon=[],e.currentLangID=0,e.gameLanguage=["en","fr","de","es","it","br","tr","ru","id","th","vi","tc","sc"],e.needUpdate=!0,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){var e=window.atob(cc.sys.localStorage.getItem(window.btoa(productKey+"__gamesave-language")));this.currentLangID=this.gameLanguage.indexOf(e),cc.log("lang id saved is: "+this.currentLangID),this.currentLangID<0&&(this.currentLangID=0),this.node.getChildByName("language").getComponent(cc.Sprite).spriteFrame=this.flagIcon[this.currentLangID],this.soundSprite=this.node.getChildByName("sound").getComponent(cc.Sprite),d.default.instance.isMute?this.soundSprite.spriteFrame=this.soundIcon[1]:this.soundSprite.spriteFrame=this.soundIcon[0]},e.prototype.start=function(){},e.prototype.update=function(e){this.needUpdate&&(this.node.getChildByName("language").getComponent(cc.Sprite).spriteFrame=this.flagIcon[this.currentLangID],this.needUpdate=!1)},e.prototype.onSettingClick=function(){this.needUpdate=!0},e.prototype.onLanguageBtnClick=function(){0==this.node.parent.getComponent("Main_Menu").settingState&&(d.default.instance.playEffect("sfx_button"),this.node.getChildByName("language_page").active=!0)},e.prototype.languageClicked=function(e){d.default.instance.playEffect("sfx_button");var t=window.i18n.supported_languages||[],n=window.i18n.preview_lang;if(0!=t.length&&-1!=t.indexOf(n)){for(var o=l("i18n"),i=0;i<this.gameLanguage.length;i++)if(e.target._name===this.gameLanguage[i]){this.currentLangID=i;break}o.init(this.gameLanguage[this.currentLangID]),this.needUpdate=!0;for(var a=cc.director.getScene().children,s=[],c=0;c<a.length;++c){var r=a[c].getComponentsInChildren("LabelLocalized");Array.prototype.push.apply(s,r)}for(c=0;c<s.length;++c){s[c].updateLabel()}cc.info("Loaded language: "+this.gameLanguage[this.currentLangID])}else cc.error("language not support: "+n)},e.prototype.soundClicked=function(){0==this.node.parent.getComponent("Main_Menu").settingState&&(d.default.instance.isMute=!d.default.instance.isMute,d.default.instance.isMute?(d.default.instance.pauseAll(),this.soundSprite.spriteFrame=this.soundIcon[1],cc.sys.localStorage.setItem(window.btoa(productKey+"__gamesave-sound"),window.btoa("0"))):(d.default.instance.resumeAll(),this.soundSprite.spriteFrame=this.soundIcon[0],cc.sys.localStorage.setItem(window.btoa(productKey+"__gamesave-sound"),window.btoa("1"))))},e.prototype.creditsClicked=function(){0==this.node.parent.getComponent("Main_Menu").settingState&&(d.default.instance.playEffect("sfx_button"),this.node.getChildByName("credit_page").active=!0)},e.prototype.ludigamesClicked=function(){0==this.node.parent.getComponent("Main_Menu").settingState&&(d.default.instance.playEffect("sfx_button"),window.getReferrer&&cc.sys.openURL(window.getReferrer()))},e.prototype.closeClicked=function(){this.node.getChildByName("credit_page").active||(d.default.instance.playEffect("sfx_button"),this.node.active=!1,this.needUpdate=!0)},e.prototype.closeCreditClicked=function(){d.default.instance.playEffect("sfx_button"),this.node.getChildByName("credit_page").active=!1,this.needUpdate=!0},e.prototype.closeLanguageClicked=function(){d.default.instance.playEffect("sfx_button"),this.node.getChildByName("language_page").active=!1,this.needUpdate=!0},__decorate([i([cc.SpriteFrame])],e.prototype,"flagIcon",void 0),__decorate([i([cc.SpriteFrame])],e.prototype,"soundIcon",void 0),e=__decorate([o],e)}(cc.Component);t.default=a,cc._RF.pop()},{"./SoundManager":"SoundManager",i18n:"i18n"}],tc:[function(e,t,n){"use strict";cc._RF.push(t,"b75f5iNN5pMJJBmmI9p9axW","tc"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.tc={main:{STR_GAME_FIT:"%s%",loading:"載入中，請稍候...",city_intro:"來建造屬於你的城市！",tuto_percent:"準確度\n疊放的準確度越高，入住的居民就越多。",tuto_stack:"嘗試疊放在前一樓層的中間",completed:"完成！",tuto_citizen:"疊放的準確度越高入住的居民就越多",tuto_unlock:"獲取足夠的居民以解鎖新的建築物",STR_GAME_PERFECT:"完美！",STR_GAME_UNSTABLE:"搖搖欲墜的建築物！",STR_SETTINGS_RESUME:"繼續",STR_SETTINGS_SOUND_ON:"聲音：開",STR_SETTINGS_SOUND_OFF:"聲音：關",STR_SETTINGS_LANGUAGE:"語言",STR_SETTINGS_TUTORIAL:"遊戲教學",STR_SETTINGS_CREDITS:"製作團隊",STR_SETTINGS_QUIT:"主選單",STR_SETTINGS_LUDIGAMES:"更多遊戲",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"提升準確度以獲得更多居民",lose_target:"目標：",lose_tryagain:"再試一次！",name_residence_1:"房屋",name_residence_2:"咖啡店",name_residence_3:"博物館",name_residence_4:"復古高塔",name_residence_5:"住宅",name_residence_6:"麵包店",name_residence_7:"學校",name_residence_8:"古老寺廟",name_residence_9:"別墅",name_residence_10:"花店",name_residence_11:"郵局",name_residence_12:"通天大廈",name_residence_13:"公寓",name_residence_14:"飯店",name_residence_15:"劇院",name_residence_16:"雙塔樓",name_residence_17:"宿舍",name_residence_18:"醫院",name_residence_19:"市政廳",name_residence_20:"終極紀念碑",STR_ACHIEVEMENT_TITLE:"已解鎖成就！",STR_ACHIEVEMENT_1:"完成遊戲教學",STR_ACHIEVEMENT_2:"解鎖2座建築物",STR_ACHIEVEMENT_3:"以超過80%準確度\n完成3座建築物",STR_ACHIEVEMENT_4:"解鎖4座建築物",STR_ACHIEVEMENT_5:"擁有100個居民",STR_ACHIEVEMENT_6:"以超過70%準確度\n完成7座建築物",STR_ACHIEVEMENT_7:"解鎖8座建築物",STR_ACHIEVEMENT_8:"以超過60%準確度\n完成10座建築物",STR_ACHIEVEMENT_9:"擁有300個居民",STR_ACHIEVEMENT_10:"解鎖12座建築物",STR_ACHIEVEMENT_11:"解鎖15座建築物",STR_ACHIEVEMENT_12:"擁有600個居民",STR_ACHIEVEMENT_13:"解鎖20座建築物",loading_1:"取得磚塊...",loading_2:"駕駛卸貨車...",loading_3:"建造房間...",loading_4:"粉刷牆壁...",loading_5:"安裝門窗...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"語言",retry_congrat:"你比上次進步了不少哦！",unlock_title:"耶！你已解鎖：",tuto_undo:"若想要拆除前一樓層\n完美疊放3次可啟用一次",achievement_title:"成就",achievement_unlock:"已解鎖成就！",btn_claim:"領取",retry_bad:"喔，不！",time_out:"時間到了",tip_rebuild:"提示：你可以嘗試重建城市裡的其他建築物。",objective_time:"時限：%s秒",objective_percent:"至少達成：%s%",objective_title:"目標",congrats_all:"恭喜！",congrats_playing:"你已解鎖所有建築物！\n請繼續暢玩，讓你的城市愈來愈繁榮！",addtohs:"新增至主頁",addtohs_title:"喜歡我們的遊戲嗎？\n把它新增到主頁吧！",STR_CREDITS_CONTENT:"Gameloft\n西貢工作室創作團隊\n\n工作室經理\nPhùng Việt Hưng\n\n主製作人\nNguyễn Việt Cường\n\n製作人\nNguyễn Hoài Nam\n\n遊戲企劃組長\nNguyễn Quốc Đông\n\n遊戲企劃小組\nHuỳnh Châu Đoan\n\n程式設計組長\nNguyễn Nguyên Vũ\n\n程式設計小組\nĐào Ngọc Hoàng\n\n工作室美術主任\nCesar Garcia\n\n美術小組\nTrần Thị Mai Trang\nVi Hồng Luân\n\n品保小組\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\n音效總監\nJorge Peirano\n\n音效經理\nUlrich Frantz\n\n音樂\nDenis Vachon\n\n聲音設計\nEric Andrianarivony\n\n業務團隊\nAurelien Lavaud\nNguyễn Thị Trường An\n\nCopyright (c) 2010, Santiago Orozco (hi@typemade.mx)\n本字型軟體經SIL Open Font License（版本1.1）授權。\n您可以於下方閱讀授權複本，也可前往此網址查看附有常見問答的版本：\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],th:[function(e,t,n){"use strict";cc._RF.push(t,"1238f4PqY9N67zJCGn3TZXJ","th"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.th={main:{STR_GAME_FIT:"%s%",loading:"กำลังโหลด โปรดรอ...",city_intro:"มาสร้างเมืองของคุณ\nกันเถอะ!",tuto_percent:"เปอร์เซ็นต์ความแม่นยำ\nยิ่งเรียงแม่นยำเท่าไหร่ คุณจะยิ่งได้ประชากรมากเท่านั้น",tuto_stack:"พยายามเรียงที่กึ่งกลาง\nของบล็อคก่อนหน้า",completed:"เสร็จเรียบร้อย!",tuto_citizen:"ยิ่งเรียงแม่นยำเท่าไหร่\nคุณจะยิ่งได้ประชากรมากเท่านั้น",tuto_unlock:"รับประชากรให้มากพอเพื่อปลดล็อคสิ่งก่อสร้างถัดไป",STR_GAME_PERFECT:"เยี่ยมมาก!",STR_GAME_UNSTABLE:"สิ่งก่อสร้างไม่มั่นคง!",STR_SETTINGS_RESUME:"เล่นต่อ",STR_SETTINGS_SOUND_ON:"เสียง: เปิด",STR_SETTINGS_SOUND_OFF:"เสียง: ปิด",STR_SETTINGS_LANGUAGE:"ภาษา",STR_SETTINGS_TUTORIAL:"การสอนเล่น",STR_SETTINGS_CREDITS:"เครดิต",STR_SETTINGS_QUIT:"เมนูหลัก",STR_SETTINGS_LUDIGAMES:"เกมอื่น ๆ",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"ได้เปอร์เซ็นต์ความแม่นยำสูงกว่านี้\nเพื่อเพิ่มประชากร",lose_target:"เป้าหมาย:",lose_tryagain:"มาลองกันอีกครั้งเถอะ!",name_residence_1:"บ้าน",name_residence_2:"ร้านกาแฟ",name_residence_3:"พิพิธภัณฑ์",name_residence_4:"หอคอยย้อนยุค",name_residence_5:"บ้านพักตากอากาศ",name_residence_6:"ร้านขนมปัง",name_residence_7:"โรงเรียน",name_residence_8:"วิหารโบราณ",name_residence_9:"คฤหาสน์",name_residence_10:"ร้านดอกไม้",name_residence_11:"ที่ทำการไปรษณีย์",name_residence_12:"ตึกระฟ้ารักโลก",name_residence_13:"อพาร์ตเมนต์",name_residence_14:"โรงแรม",name_residence_15:"โรงหนัง",name_residence_16:"หอคอยคู่",name_residence_17:"หอพัก",name_residence_18:"โรงพยาบาล",name_residence_19:"ศาลากลาง",name_residence_20:"อนุสาวรีย์แห่งสุดท้าย",STR_ACHIEVEMENT_TITLE:"ปลดล็อคความสำเร็จแล้ว!",STR_ACHIEVEMENT_1:"เล่นโหมดสอนเล่นจบ",STR_ACHIEVEMENT_2:"ปลดล็อคสิ่งก่อสร้าง 2 หลัง",STR_ACHIEVEMENT_3:"สร้างสิ่งก่อสร้างเสร็จ 3 หลัง\nแม่นยำ > 80%",STR_ACHIEVEMENT_4:"ปลดล็อคสิ่งก่อสร้าง 4 หลัง",STR_ACHIEVEMENT_5:"มีประชากร 100 คน",STR_ACHIEVEMENT_6:"สร้างสิ่งก่อสร้างเสร็จ 7 หลัง\nแม่นยำ > 70%",STR_ACHIEVEMENT_7:"ปลดล็อคสิ่งก่อสร้าง 8 หลัง",STR_ACHIEVEMENT_8:"สร้างสิ่งก่อสร้างเสร็จ 10 หลัง\nแม่นยำ > 60%",STR_ACHIEVEMENT_9:"มีประชากร 300 คน",STR_ACHIEVEMENT_10:"ปลดล็อคสิ่งก่อสร้าง 12 หลัง",STR_ACHIEVEMENT_11:"ปลดล็อคสิ่งก่อสร้าง 15 หลัง",STR_ACHIEVEMENT_12:"มีประชากร 600 คน",STR_ACHIEVEMENT_13:"ปลดล็อคสิ่งก่อสร้าง 20 หลัง",loading_1:"กำลังขนย้ายอิฐ... ",loading_2:"กำลังขับรถบรรทุก...",loading_3:"กำลังสร้างห้อง...",loading_4:"กำลังทาสีกำแพง...",loading_5:"กำลังติดตั้งประตูและหน้าต่าง...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"ภาษา",retry_congrat:"คุณทำได้ดีกว่าครั้งที่แล้ว!",unlock_title:"ไชโย! คุณปลดล็อค:",tuto_undo:"ยกเลิกบล็อคก่อนหน้า\nเปิดใช้โดยเรียงอย่างแม่นยำ 3 ครั้ง",achievement_title:"ความสำเร็จ",achievement_unlock:"ปลดล็อคความสำเร็จแล้ว!",btn_claim:"รับ",retry_bad:"อุ๊ย!",time_out:"หมดเวลาแล้ว",tip_rebuild:"เคล็ดลับ: คุณสามารถลองสร้าง\nสิ่งก่อสร้างอื่น ๆ ในเมืองได้อีกครั้ง",objective_time:"ขีดจำกัดเวลา: %s วิ",objective_percent:"ทำให้ได้อย่างน้อย: %s%",objective_title:"เป้าหมาย",congrats_all:"ยินดีด้วย!",congrats_playing:"คุณปลดล็อคสิ่งก่อสร้าง\nทั้งหมดแล้ว!\nเล่นต่อไปเพื่อทำให้เมืองของคุณ\nดียิ่งขึ้น!",addtohs:"เพิ่มเข้าไปที่หน้าจอหลัก",addtohs_title:"สนุกมั้ย เพิ่มเกมเข้าไปที่\nหน้าจอหลักเลย!",STR_CREDITS_CONTENT:"Gameloft\nฝ่ายสร้างเกมสตูดิโอSA1\n\nผู้จัดการสตูดิโอ\nPhùng Việt Hưng\n\nโปรดิวเซอร์หลัก\nNguyễn Việt Cường\n\nโปรดิวเซอร์\nNguyễn Hoài Nam\n\nฝ่ายออกแบบเกมหลัก\nNguyễn Quốc Đông\n\nฝ่ายออกแบบเกม\nHuỳnh Châu Đoan\n\nโปรแกรมเมอร์หลัก\nNguyễn Nguyên Vũ\n\nโปรแกรมเมอร์\nĐào Ngọc Hoàng\n\nฝ่ายศิลป์หลักประจำสตูดิโอ\nCesar Garcia\n\nฝ่ายศิลป์\nTrần Thị Mai Trang\nVi Hồng Luân\n\nฝ่ายรับรองคุณภาพ\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nผู้กำกับเสียง\nJorge Peirano\n\nผู้จัดการฝ่ายเสียง\nUlrich Frantz\n\nฝ่ายดนตรี\nDenis Vachon\n\nฝ่ายออกแบบเสียง\nEric Andrianarivony\n\nฝ่ายธุรกิจ\nAurelien Lavaud\nNguyễn Thị Trường An\n\nลิขสิทธิ์ (c) 2010, Santiago Orozco\n(hi@typemade.mx)\nซอฟต์แวร์ฟอนต์นี้ได้รับอนุญาตภายใต้ SIL Open Font License เวอร์ชั่น 1.1\n สัญญาอนุญาตนี้ได้รับการคัดลอกไว้\nด้านล่าง สามารถดูสัญญาอนุญาต\nพร้อมคำถามที่พบบ่อยได้ที่:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],tr:[function(e,t,n){"use strict";cc._RF.push(t,"28264hfO+VAt5fVgu5siwGB","tr"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.tr={main:{STR_GAME_FIT:"%%s",loading:"YÜKLENİYOR. LÜTFEN BEKLE...",city_intro:"Hadi, şehrini kuralım!",tuto_percent:"İsabet oranı.\nBlokları ne kadar isabetli dizersen o kadar çok yerleşimcin olur.",tuto_stack:"Önceki bloğun ortasına koymayı dene.",completed:"TAMAMLANDI!",tuto_citizen:"Ne kadar isabetli dizersen o kadar çok yerleşimcin olur.",tuto_unlock:"Yeni binaların kilidini açmak için yeterli sayıda yerleşimci edin.",STR_GAME_PERFECT:"Mükemmel!",STR_GAME_UNSTABLE:"Dengesiz bina!",STR_SETTINGS_RESUME:"SÜRDÜR",STR_SETTINGS_SOUND_ON:"SES: AÇIK",STR_SETTINGS_SOUND_OFF:"SES: KAPALI",STR_SETTINGS_LANGUAGE:"DİL",STR_SETTINGS_TUTORIAL:"ÖĞRETİCİ",STR_SETTINGS_CREDITS:"JENERİK",STR_SETTINGS_QUIT:"ANA MENÜ",STR_SETTINGS_LUDIGAMES:"DAHA ÇOK OYUN",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Daha iyi bir isabet oranı elde ederek daha çok yerleşimci edin.",lose_target:"Hedef:",lose_tryagain:"HAYDİ TEKRAR DENE!",name_residence_1:"EV",name_residence_2:"KAFE",name_residence_3:"MÜZE",name_residence_4:"ESKİ KULE",name_residence_5:"REZİDANS",name_residence_6:"FIRIN",name_residence_7:"OKUL",name_residence_8:"ANTİK TAPINAK",name_residence_9:"VİLLA",name_residence_10:"ÇİÇEKÇİ",name_residence_11:"POSTANE",name_residence_12:"YEŞİL GÖKDELEN",name_residence_13:"APARTMAN",name_residence_14:"OTEL",name_residence_15:"TİYATRO",name_residence_16:"ÇİFT KULELER",name_residence_17:"YURT",name_residence_18:"HASTANE",name_residence_19:"BELEDİYE SARAYI",name_residence_20:"NİHAİ ANIT",STR_ACHIEVEMENT_TITLE:"BAŞARININ KİLİDİ AÇILDI!",STR_ACHIEVEMENT_1:"Öğreticiyi tamamla.",STR_ACHIEVEMENT_2:"2 binanın kilidini aç.",STR_ACHIEVEMENT_3:"3 binayı %80 üzeri isabetlilikle tamamla.",STR_ACHIEVEMENT_4:"4 binanın kilidini aç.",STR_ACHIEVEMENT_5:"100 yerleşimcin olsun.",STR_ACHIEVEMENT_6:"7 binayı %70 üzeri isabetlilikle tamamla.",STR_ACHIEVEMENT_7:"8 binanın kilidini aç.",STR_ACHIEVEMENT_8:"10 binayı %60 üzeri isabetlilikle tamamla.",STR_ACHIEVEMENT_9:"300 yerleşimcin olsun.",STR_ACHIEVEMENT_10:"12 binanın kilidini aç.",STR_ACHIEVEMENT_11:"15 binanın kilidini aç.",STR_ACHIEVEMENT_12:"600 yerleşimcin olsun.",STR_ACHIEVEMENT_13:"20 binanın kilidini aç.",loading_1:"Bloklar taşınıyor...",loading_2:"Damperli kamyon sürülüyor...",loading_3:"Odalar oluşturuluyor...",loading_4:"Duvarlar boyanıyor...",loading_5:"Kapılar ve pencereler döşeniyor...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"DİL",retry_congrat:"Geçen seferkinden daha iyisin!",unlock_title:"Yaşasın! Şunun kilidini açtın:",tuto_undo:"Önceki bloğu geri al.\nEtkinleştirmek için üst üste 3 bloğu Mükemmel yerleştir.",achievement_title:"BAŞARILAR",achievement_unlock:"BAŞARININ KİLİDİ AÇILDI!",btn_claim:"AL",retry_bad:"Hay aksi!",time_out:"Süre doldu.",tip_rebuild:"Tüyo: Şehirdeki diğer binaları yeniden inşa etmeye çalışabilirsin.",objective_time:"Süre sınırı: %s sn",objective_percent:"Minimum hedef: %%s",objective_title:"HEDEFLER",congrats_all:"TEBRİKLER!",congrats_playing:"Tüm binaların kilidini açtın!\nŞehrini iyileştirmek için oynamaya devam et!",addtohs:"Ana ekrana ekle",addtohs_title:"OYUNUMUZU BEĞENDİN Mİ? LÜTFEN OYUNU ANA EKRANA EKLE!",STR_CREDITS_CONTENT:"Gameloft\nSaygon 1 Stüdyosu Kreasyon Ekibi\n\nStüdyo Yöneticisi\nPhùng Việt Hưng\n\nYapım Şefi\nNguyễn Việt Cường\n\nYapım\nNguyễn Hoài Nam\n\nOyun Tasarım Şefi\nNguyễn Quốc Đông\n\nOyun Tasarım\nHuỳnh Châu Đoan\n\nProgramlama Şefi\nNguyễn Nguyên Vũ\n\nProgramlama\nĐào Ngọc Hoàng\n\nStüdyo Çizim Şefi\nCesar Garcia\n\nÇizim\nTrần Thị Mai Trang\nVi Hồng Luân\n\nKalite Güvencesi\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nSes Yönetmeni\nJorge Peirano\n\nSes Yöneticisi\nUlrich Frantz\n\nMüzik\nDenis Vachon\n\nSes Tasarımı\nEric Andrianarivony\n\nİş Ekibi\nAurelien Lavaud\nNguyễn Thị Trường An\n\nTelif Hakkı (c) 2010, Santiago Orozco (hi@typemade.mx)\nBu yazı tipi SIL Open Font License lisansı altındadır, Sürüm 1.1.\nBu lisansın kopyası aşağıda görülebilir ve SSS ile şu adreste bulunabilir:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}],vi:[function(e,t,n){"use strict";cc._RF.push(t,"562187XUb5OWZ+Z2NryahwL","vi"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.vi={main:{STR_GAME_FIT:"%s%",loading:"ĐANG TẢI. VUI LÒNG CHỜ...",city_intro:"Xây thành phố nào!",tuto_percent:"Độ chuẩn.\nChồng càng chuẩn càng được nhiều dân.",tuto_stack:"Gắng chồng sao cho cân với khối bên dưới.",completed:"XONG!",tuto_citizen:"Chồng càng chuẩn càng được nhiều dân.",tuto_unlock:"Kiếm đủ dân để mở khóa tòa nhà mới.",STR_GAME_PERFECT:"Chuẩn!",STR_GAME_UNSTABLE:"Nhà yếu!",STR_SETTINGS_RESUME:"TIẾP TỤC",STR_SETTINGS_SOUND_ON:"TIẾNG: BẬT",STR_SETTINGS_SOUND_OFF:"TIẾNG: TẮT",STR_SETTINGS_LANGUAGE:"NGÔN NGỮ",STR_SETTINGS_TUTORIAL:"HƯỚNG DẪN",STR_SETTINGS_CREDITS:"THỰC HIỆN",STR_SETTINGS_QUIT:"MENU CHÍNH",STR_SETTINGS_LUDIGAMES:"THÊM TRÒ CHƠI",STR_UNLOCK_POPULATION:"to unlock.",lose_notenough:"Gắng tăng độ chuẩn để kiếm thêm dân.",lose_target:"Mục tiêu:",lose_tryagain:"THỬ LẠI NÀO!",name_residence_1:"NHÀ",name_residence_2:"TIỆM CÀ PHÊ",name_residence_3:"BẢO TÀNG",name_residence_4:"THÁP XƯA",name_residence_5:"CƯ XÁ",name_residence_6:"TIỆM BÁNH",name_residence_7:"TRƯỜNG HỌC",name_residence_8:"ĐỀN CỔ",name_residence_9:"BIỆT THỰ",name_residence_10:"TIỆM HOA",name_residence_11:"BƯU ĐIỆN",name_residence_12:"LỤC THÁP THÔNG THIÊN",name_residence_13:"CĂN HỘ CHUNG CƯ",name_residence_14:"KHÁCH SẠN",name_residence_15:"NHÀ HÁT",name_residence_16:"THÁP ĐÔI",name_residence_17:"KÝ TÚC XÁ",name_residence_18:"BỆNH VIỆN",name_residence_19:"TÒA THỊ CHÍNH",name_residence_20:"TƯỢNG ĐÀI CUỐI CÙNG",STR_ACHIEVEMENT_TITLE:"MỞ KHÓA THÀNH TÍCH!",STR_ACHIEVEMENT_1:"Xong hướng dẫn.",STR_ACHIEVEMENT_2:"Mở khóa 2 tòa nhà.",STR_ACHIEVEMENT_3:"Xong 3 tòa nhà với\nđộ chuẩn trên 80%.",STR_ACHIEVEMENT_4:"Mở khóa 4 tòa nhà.",STR_ACHIEVEMENT_5:"Có 100 dân.",STR_ACHIEVEMENT_6:"Xong 7 tòa nhà với\nđộ chuẩn trên 70%.",STR_ACHIEVEMENT_7:"Mở khóa 8 tòa nhà.",STR_ACHIEVEMENT_8:"Xong 10 tòa nhà với\nđộ chuẩn trên 60%.",STR_ACHIEVEMENT_9:"Có 300 dân.",STR_ACHIEVEMENT_10:"Mở khóa 12 tòa nhà.",STR_ACHIEVEMENT_11:"Mở khóa 15 tòa nhà.",STR_ACHIEVEMENT_12:"Có 600 dân.",STR_ACHIEVEMENT_13:"Mở khóa 20 tòa nhà.",loading_1:"Đang sắp gạch...",loading_2:"Đang lái xe ben...",loading_3:"Đang xây phòng...",loading_4:"Đang sơn tường...",loading_5:"Đang lắp cửa đi và cửa sổ...",objective_1:"%s perfect.",objective_2:"Time limit: %s seconds.",languages:"NGÔN NGỮ",retry_congrat:"Bạn tiến bộ hơn trước!",unlock_title:"Tuyệt! Bạn đã mở khóa:",tuto_undo:'Chồng lại khối bên dưới.\nCó sau 3 khối chồng "Chuẩn".',achievement_title:"THÀNH TÍCH",achievement_unlock:"MỞ KHÓA THÀNH TÍCH!",btn_claim:"NHẬN",retry_bad:"Ây da, tiếc quá mà!",time_out:"Hết giờ rồi!",tip_rebuild:"Gợi ý: Bạn có thể xây lại tòa nhà khác trong thành phố.",objective_time:"Thời hạn: %s s",objective_percent:"Đạt ít nhất: %s%",objective_title:"MỤC TIÊU",congrats_all:"XIN CHÚC MỪNG!",congrats_playing:"Bạn đã mở khóa hết tòa nhà!\nChơi tiếp để làm thành phố xinh đẹp hơn!",addtohs:"Thêm vào Màn hình chính",addtohs_title:"THÍCH GAME NÀY? HÃY THÊM VÀO MÀN HÌNH CHÍNH!",STR_CREDITS_CONTENT:"Gameloft\nNhóm sáng tạo studio SA1\n\nGiám đốc studio\nPhùng Việt Hưng\n\nTrưởng sản xuất\nNguyễn Việt Cường\n\nSản xuất\nNguyễn Hoài Nam\n\nTrưởng thiết kế trò chơi\nNguyễn Quốc Đông\n\nThiết kế trò chơi\nHuỳnh Châu Đoan\n\nTrưởng lập trình\nNguyễn Nguyên Vũ\n\nLập trình\nĐào Ngọc Hoàng\n\nTrưởng đồ họa studio\nCesar Garcia\n\nĐồ họa\nTrần Thị Mai Trang\nVi Hồng Luân\n\nKiểm định chất lượng\nNguyễn Minh Tâm\nPhan Nguyễn\nNguyễn Ngọc Thiện\n\nĐạo diễn âm thanh\nJorge Peirano\n\nGiám đốc âm thanh\nUlrich Frantz\n\nNhạc\nDenis Vachon\n\nThiết kế âm thanh\nEric Andrianarivony\n\nNhóm kinh doanh\nAurelien Lavaud\nNguyễn Thị Trường An\n\nBản quyền (c) 2010, Santiago Orozco (hi@typemade.mx)\nPhần mềm Phông chữ này được cấp phép theo Giấy phép Phông chữ Mở SIL, Phiên bản 1.1.\nGiấy phép này được sao chép\nbên dưới và đồng thời có đi kèm\nvới một FAQ tại:\nhttp://scripts.sil.org/OFL"}},cc._RF.pop()},{}]},{},["br","de","en","es","fr","i18n-supported-languages","id","it","preview-lang","ru","sc","tc","th","tr","vi","Achievement","Achievement_Item","Achievement_List","CloudAction","Define","DetailEffect","Effect","EventManager","Game","GameMessage","Game_UI","Global","Interactive","Main_Menu","MoveAround","Pin","PositionFollow","SoundManager","cc_spriter_component","Tower","Towers","TyCoon","TycoonUnlock","WrapTo","button-scaler","credit-handle","floor","scrollBG","setting-handle","LabelLocalized","i18n","polyglot"]);